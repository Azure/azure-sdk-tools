extends:
  template: /eng/pipelines/templates/stages/1es-redirect.yml
  parameters:
    stages:
      - stage: 'Investigate'
        variables:
          - template: /eng/pipelines/templates/variables/globals.yml
          - template: /eng/pipelines/templates/variables/image.yml
        jobs:
          - job: 'MacOS'

            pool:
              name: $(MACPOOL)
              vmImage: $(MACVMIMAGE)
              os: macOS

            steps:
              - template: /eng/pipelines/templates/steps/investigate-step-template-tool.yml

          - job: 'MacOS2'

            pool:
              name: $(MACPOOL)
              vmImage: $(MACVMIMAGE)
              os: macOS

            steps:
              - template: /eng/pipelines/templates/steps/investigate-step-template-no-tool.yml

          - job: 'Windows'

            pool:
              name: $(WINDOWSPOOL)
              image: $(WINDOWSVMIMAGE)
              os: windows

            steps:
              - template: /eng/pipelines/templates/steps/investigate-step-template-no-tool.yml

          - job: 'Linux'

            pool:
              name: $(LINUXPOOL)
              image: $(LINUXVMIMAGE)
              os: linux

            steps:
              - template: /eng/pipelines/templates/steps/investigate-step-template-no-tool.yml
