import os
# by default, yaml does not maintain insertion order of the dicts
# The drop-in replacement oyaml does handily for us.
import oyaml as yaml

class ReferenceYaml:
    def __init__(self, yaml_location):
        with open(yaml_location, "r") as raw_target_yml:
            target_autogenerated_toc = yaml.safe_load(target_autogenerated_toc_yml)

        self.yml_object = target_autogenerated_toc

    # Sample reference ToC
    # - name: Reference
    #   uid: azure.python.sdk.landingPage.reference
    #   landingPageType: Root
    #   expanded: true
    #   items:
    #   - name: Core
    #     uid: azure.python.sdk.landingPage.services.Core.Preview

    def all_items(self):
      return yaml.dump(self.yml_object)

    def service_categories(self):
      return reference_toc[0]["items"]

    def output(self, location):
      print('write to ' + location)