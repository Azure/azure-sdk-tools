{"testcase": "Does Typespec has any decorator to set customzed `final-state-via` for LRO API?", "query": "title: Does Typespec has any decorator to set customzed `final-state-via` for LRO API?\n\nquestion: Does Typespec has any decorator to set customzed `final-state-via` for LRO API?", "ground_truth": "Yes, TypeSpec provides a decorator for setting a customized `final-state-via` value for long-running operation (LRO) APIs. You should use the `@Azure.Core.useFinalStateVia decorator` on your operation to explicitly specify the desired final state resolution strategy. The decorator supports values such as \"original-uri\", \"operation-location\", \"location\", and \"azure-async-operation\". For example:\n```\n@Azure.Core.useFinalStateVia(\"original-uri\")\nop createResource is ArmResourceCreateOrReplaceAsync<ResourceModel>;\n```\nThis will ensure the generated OpenAPI includes the correct `x-ms-long-running-operation-options` with your chosen `final-state-via setting`. This approach fully aligns with Azure REST API and ARM guidelines for LRO patterns.", "expected_knowledges": [{"title": "Only \"final-state-via\": \"location\" need to been changed to \"final-state-via\": \"azure-async-operation\" | answer", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}, {"title": "LRO response and final result | answer", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}, {"title": "Setting lroheader in operation does not work | question", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}, {"title": "TypeSpec ARM Decorator Mapping to Swagger Documentation | 22. @useLibraryNamespace | TypeSpec Example", "link": ""}, {"title": "TypeSpec ARM Model Mapping to Swagger Documentation | 1. ArmAcceptedLroResponse | Swagger Output", "link": ""}, {"title": "Decorators", "link": "https://typespec.io/docs/language-basics/decorators"}, {"title": "Documentation", "link": "https://typespec.io/docs/language-basics/documentation"}, {"title": "Deep Dive: Long-running (Asynchronous) Operations | Describing Custom LRO Patterns using Azure.Core | Custom LROs - Operation Links", "link": "https://azure.github.io/typespec-azure/docs/howtos/azure-core/long-running-operations"}, {"title": "Deep Dive: Long-running (Asynchronous) Operations | Long-running Operation Helpers for Emitters and Libraries", "link": "https://azure.github.io/typespec-azure/docs/howtos/azure-core/long-running-operations"}, {"title": "Versioning | Using the `@added` Decorator", "link": "https://typespec.io/docs/getting-started/getting-started-rest/06-versioning"}, {"title": "Versioning | Introduction to the `@versioned` Decorator", "link": "https://typespec.io/docs/getting-started/getting-started-rest/06-versioning"}, {"title": "Versioning the LRO headers | question", "link": ""}, {"title": "Deep Dive: Long-running (Asynchronous) Operations | Describing Custom LRO Patterns using Azure.Core", "link": "https://azure.github.io/typespec-azure/docs/howtos/azure-core/long-running-operations"}, {"title": "Emitter usage | Emitter options | `emit-lro-options`", "link": "https://azure.github.io/typespec-azure/docs/emitters/typespec-autorest/reference/emitter"}, {"title": "Examples", "link": "https://typespec.io/docs/standard-library/examples"}, {"title": "Versioning | Simple Scenarios", "link": "https://azure.github.io/typespec-azure/docs/howtos/arm/versioning"}, {"title": "Release new api version process with TypeSpec | answer", "link": ""}, {"title": "Does TypeSpec have the option to achieve mutually exclusive? | answer", "link": ""}, {"title": "202 response header location and \"final-state-via\": \"azure-async-operation\" could not exist both. | answer", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}, {"title": "Considerations for Service Design | Long-Running Operations | Long-running action operation not related to a resource", "link": "https://github.com/microsoft/api-guidelines/blob/vNext/azure/ConsiderationsForServiceDesign.md"}, {"title": "FinalResult is not correct | question", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}, {"title": "TypeSpec Azure.ResourceManager.Legacy.PrivateEndpoints Operations Mapping to Swagger Documentation | 3. CustomPatchAsync | Swagger Output", "link": ""}, {"title": "LRO response and final result | answer", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}, {"title": "Microsoft Azure REST API Guidelines | Common API Patterns | Long-Running Operations & Jobs", "link": "https://github.com/microsoft/api-guidelines/blob/vNext/azure/Guidelines.md"}, {"title": "Deep Dive: Long-running (Asynchronous) Operations | Long-running Operation Helpers for Emitters and Libraries", "link": "https://azure.github.io/typespec-azure/docs/howtos/azure-core/long-running-operations"}, {"title": "Decorators | Azure.Core | `@useFinalStateVia` {#@Azure.Core.useFinalStateVia}", "link": "https://azure.github.io/typespec-azure/docs/libraries/azure-core/reference/decorators"}, {"title": "TypeSpec ARM Model Mapping to Swagger Documentation | 14. ArmResourceCreatedResponse | Swagger Output", "link": ""}], "expected_references": [{"title": "Decorators | Azure.Core | `@useFinalStateVia` {#@Azure.Core.useFinalStateVia}", "link": "https://azure.github.io/typespec-azure/docs/libraries/azure-core/reference/decorators"}, {"title": "Only \"final-state-via\": \"location\" need to been changed to \"final-state-via\": \"azure-async-operation\" | answer", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}]}
