steps:
- pwsh: |
    $differByCaseFiles = git ls-files | Group-Object | Where-Object { $_.Count -gt 1 } | ForEach-Object { $_.Group} 

    if ($differByCaseFiles) 
    {
      Write-Warning "Do NOT name the files which only differ in case. Please check and rename the following files:"
      $differByCaseFiles | Write-Warning 
      exit 1
    }
    Write-Host "There are no files only differ in case. "
  displayName: Validate on files only differ on cases
  workingDirectory: $(System.DefaultWorkingDirectory)