<app-page-options-section sectionName="Page Settings">
    <ul class="list-group">
        <li class="list-group-item">
            <p-inputSwitch [(ngModel)]="showCommentsSwitch"
            (onChange)="onCommentsSwitchChange($event)" />
            <label class="ms-2">Comments</label>
        </li>
        <li class="list-group-item border-top">
            <p-inputSwitch [(ngModel)]="showSystemCommentsSwitch"
            (onChange)="onShowSystemCommentsSwitchChange($event)" />
            <label class="ms-2">System Comments</label>
        </li>
        <li class="list-group-item border-top">
            <p-inputSwitch [(ngModel)]="showDocumentationSwitch"
            (onChange)="onShowDocumentationSwitchChange($event)" />
            <label class="ms-2">Documentation</label>
        </li>
        <li class="list-group-item border-top">
            <p-inputSwitch [(ngModel)]="showLineNumberSwitch" />
            <label class="ms-2">Line Numbers</label>
        </li>
        <li class="list-group-item border-top">
            <p-inputSwitch [(ngModel)]="showLeftNavigationSwitch" />
            <label class="ms-2">Left navigation</label>
        </li>
        <li *ngIf="isDiffView" class="list-group-item border-top">
            <label class="small mx-1 fw-semibold" for="diff-style-select">Diff Style :</label>
            <p-dropdown 
                (onChange)="onDiffStyleChange($event)"
                [options]="diffStyleOptions" 
                [(ngModel)]="selectedDiffStyle"
                inputId="diff-style-select"
                optionLabel="label" />
        </li>
    </ul>
</app-page-options-section>

<app-page-options-section sectionName="API Revision Options">
    <ul class="list-group">
        <li class="list-group-item">
            <p-inputSwitch [(ngModel)]="markedAsViewSwitch"
            (onChange)="onMarkedAsViewedSwitchChange($event)" />
            <label class="ms-2">Mark As Viewed</label>
        </li>
        <li class="list-group-item border-top">
            <h6 class="text-decoration-underline">Change History</h6>
        </li>
        <li class="list-group-item change-history">
            <p-timeline [value]="activeAPIRevision?.changeHistory">
                <ng-template pTemplate="marker" let-changeHistory>
                    <span 
                        class="flex w-2rem h-2rem align-items-center justify-content-center text-white border-circle z-1 shadow-1" 
                        [style]="{ 'background-color': changeHistory.color }">
                            <i [class]="changeHistoryIcons[changeHistory.changeAction]"></i>
                    </span>
                </ng-template>
                <ng-template pTemplate="content" let-changeHistory>
                    <div class="p-text-primary small">{{ changeHistory.changedBy }}</div>
                    <div class="p-text-secondary small">{{ changeHistory.changedOn | timeago }}</div>
                </ng-template>
                <ng-template pTemplate="opposite" let-changeHistory>
                    <div class="p-text-primary">{{ changeHistory.changeAction }}</div>
                </ng-template>
            </p-timeline>
        </li>
    </ul>
</app-page-options-section>