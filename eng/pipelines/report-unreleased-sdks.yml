trigger: none
pr: none 

pool:
  name: azsdk-pool
  demands: ImageOverride -equals ubuntu-24.04

jobs:
  - job: ReportUnreleasedSdks
    steps:
      - checkout: self

      - task: PowerShell@2
        displayName: 'Install Azure SDK MCP'
        inputs:
          targetType: 'inline'
          script: './eng/common/mcp/azure-sdk-mcp.ps1 -InstallDirectory $(System.DefaultWorkingDirectory)'
          pwsh: true
          workingDirectory: '$(System.DefaultWorkingDirectory)'

      - task: AzureCLI@2
        displayName: Email product owners about overdue SDK release plans
        inputs:
          azureSubscription: opensource-api-connection
          scriptType: pscore
          scriptPath: eng/scripts/Report-Unreleased-Sdks.ps1
          arguments: >
            -AzureSDKEmailUri "$(AzureSDKEmailerSasURL)"
            -AzsdkExePath "$(System.DefaultWorkingDirectory)/azsdk"