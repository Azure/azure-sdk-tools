using Microsoft.Extensions.AI;

namespace Azure.Sdk.Tools.Cli.Evaluations.ToolMocks
{
    public class GetPullRequestLinkForCurrentBranch : IToolMock
    {
        public string ToolName => "azsdk_get_pull_request_link_for_current_branch";
        public string CallId => "tooluse_l1vP7lx3RwCft6416a51sfd";
        private string ToolResult => """{"result":"Pull request found: https://github.com/Azure/azure-rest-api-specs/pull/38387\u0022{\\u0022pullRequestNumber\\u0022:38387,\\u0022Author\\u0022:null,\\u0022Labels\\u0022:[{\\u0022Id\\u0022:5353717489,\\u0022Url\\u0022:\\u0022https://api.github.com/repos/Azure/azure-rest-api-specs/labels/TypeSpec\\u0022,\\u0022Name\\u0022:\\u0022TypeSpec\\u0022,\\u0022NodeId\\u0022:\\u0022LA_kwDOAlSEjc8AAAABPxs-8Q\\u0022,\\u0022Color\\u0022:\\u00220052CC\\u0022,\\u0022Description\\u0022:\\u0022Authored with TypeSpec\\u0022,\\u0022Default\\u0022:false},{\\u0022Id\\u0022:8716331499,\\u0022Url\\u0022:\\u0022https://api.github.com/repos/Azure/azure-rest-api-specs/labels/Created%20By%20Copilot\\u0022,\\u0022Name\\u0022:\\u0022Created By Copilot\\u0022,\\u0022NodeId\\u0022:\\u0022LA_kwDOAlSEjc8AAAACB4ip6w\\u0022,\\u0022Color\\u0022:\\u0022bfdadc\\u0022,\\u0022Description\\u0022:\\u0022This indicates that PR was created by GitHub copilot agent\\u0022,\\u0022Default\\u0022:false}],\\u0022Status\\u0022:\\u0022open\\u0022,\\u0022AssignedTo\\u0022:\\u0022\\u0022,\\u0022Url\\u0022:\\u0022https://github.com/Azure/azure-rest-api-specs/pull/38387\\u0022,\\u0022IsMerged\\u0022:false,\\u0022IsMergeable\\u0022:true,\\u0022Checks\\u0022:[\\u0022Name: SDK Validation - Python, Status: completed, Output: [1 errors / 0 warnings](https://dev.azure.com/azure-sdk/29ec6040-b234-4e31-b139-33dc4287b756/_build/results?buildId=5490980), Conclusion: failure, Link: https://github.com/Azure/azure-rest-api-specs/runs/53495233105\\u0022,\\u0022Name: SDK Validation - .NET, Status: completed, Output: [1 errors / 0 warnings](https://dev.azure.com/azure-sdk/29ec6040-b234-4e31-b139-33dc4287b756/_build/results?buildId=5490977), Conclusion: failure, Link: https://github.com/Azure/azure-rest-api-specs/runs/53495223866\\u0022,\\u0022Name: SDK Validation - Go, Status: completed, Output: [1 errors / 0 warnings](https://dev.azure.com/azure-sdk/29ec6040-b234-4e31-b139-33dc4287b756/_build/results?buildId=5490978), Conclusion: failure, Link: https://github.com/Azure/azure-rest-api-specs/runs/53495170336\\u0022,\\u0022Name: SDK Validation - Java, Status: completed, Output: [1 errors / 0 warnings](https://dev.azure.com/azure-sdk/29ec6040-b234-4e31-b139-33dc4287b756/_build/results?buildId=5490976), Conclusion: failure, Link: https://github.com/Azure/azure-rest-api-specs/runs/53495164506\\u0022,\\u0022Name: SDK Validation - JS, Status: completed, Output: [1 errors / 0 warnings](https://dev.azure.com/azure-sdk/29ec6040-b234-4e31-b139-33dc4287b756/_build/results?buildId=5490979), Conclusion: failure, Link: https://github.com/Azure/azure-rest-api-specs/runs/53495162016\\u0022,\\u0022Name: spec - api-doc-preview, Status: completed, Output: [0 errors / 0 warnings](https://dev.azure.com/azure-sdk/590cfd2a-581c-4dcb-a12e-6568ce786175/_build/results?buildId=5490981), Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/runs/53495002753\\u0022,\\u0022Name: TypeSpec APIView, Status: completed, Output: [3 errors / 0 warnings](https://dev.azure.com/azure-sdk/29ec6040-b234-4e31-b139-33dc4287b756/_build/results?buildId=5490975), Conclusion: failure, Link: https://github.com/Azure/azure-rest-api-specs/runs/53494978185\\u0022,\\u0022Name: Swagger PrettierCheck, Status: completed, Output: [0 errors / 0 warnings](https://dev.azure.com/azure-sdk/29ec6040-b234-4e31-b139-33dc4287b756/_build/results?buildId=5490973), Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/runs/53494946473\\u0022,\\u0022Name: Swagger APIView, Status: completed, Output: [0 errors / 1 warnings](https://dev.azure.com/azure-sdk/29ec6040-b234-4e31-b139-33dc4287b756/_build/results?buildId=5490974), Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/runs/53494941487\\u0022,\\u0022Name: license/cla, Status: completed, Output: This check verifies that the author has agreed to a CLA with Microsoft., Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/runs/53494919968\\u0022,\\u0022Name: public.rest-api-specs, Status: completed, Output: [0 errors / 0 warnings](https://dev.azure.com/azure-sdk/29ec6040-b234-4e31-b139-33dc4287b756/_build/results?buildId=5490972), Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/runs/53494746780\\u0022,\\u0022Name: ARM Auto SignOff, Status: completed, Output: , Conclusion: skipped, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237048/job/53494737696\\u0022,\\u0022Name: Set Breaking Change(Cross-Version) Status / Breaking Change(Cross-Version) - Set Status, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237016/job/53494726179\\u0022,\\u0022Name: Set Avocado Status / ${{ inputs.required_check_name }} - Set Status, Status: completed, Output: , Conclusion: skipped, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237176/job/53494725897\\u0022,\\u0022Name: Set BreakingChange Status / ${{ inputs.required_check_name }} - Set Status, Status: completed, Output: , Conclusion: skipped, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237251/job/53494725402\\u0022,\\u0022Name: Set Breaking Change(Cross-Version) Status / ${{ inputs.required_check_name }} - Set Status, Status: completed, Output: , Conclusion: skipped, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237258/job/53494724810\\u0022,\\u0022Name: Set SemanticValidation Status / ${{ inputs.required_check_name }} - Set Status, Status: completed, Output: , Conclusion: skipped, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237180/job/53494724759\\u0022,\\u0022Name: Set LintDiff Status / ${{ inputs.required_check_name }} - Set Status, Status: completed, Output: , Conclusion: skipped, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237182/job/53494724713\\u0022,\\u0022Name: Set ModelValidation Status / ${{ inputs.required_check_name }} - Set Status, Status: completed, Output: , Conclusion: skipped, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237168/job/53494724586\\u0022,\\u0022Name: tsp-client / test (windows, 22), Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237134/job/53494724456\\u0022,\\u0022Name: tsp-client / test (ubuntu, 20), Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237134/job/53494724438\\u0022,\\u0022Name: Set LintDiff Status / Swagger LintDiff - Set Status, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237120/job/53494724363\\u0022,\\u0022Name: Swagger BreakingChange - Analyze Code, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237087/job/53494724354\\u0022,\\u0022Name: Set SemanticValidation Status / Swagger SemanticValidation - Set Status, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237095/job/53494724308\\u0022,\\u0022Name: Set ModelValidation Status / Swagger ModelValidation - Set Status, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237099/job/53494724302\\u0022,\\u0022Name: TypeSpec Migration Validation, Status: completed, Output: , Conclusion: skipped, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237080/job/53494724244\\u0022,\\u0022Name: Swagger SemanticValidation - Analyze Code, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237083/job/53494724212\\u0022,\\u0022Name: Swagger LintDiff - Analyze Code, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237076/job/53494724113\\u0022,\\u0022Name: TypeSpec Requirement, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237104/job/53494724061\\u0022,\\u0022Name: Set Avocado Status / Swagger Avocado - Set Status, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237069/job/53494724039\\u0022,\\u0022Name: SpellCheck, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237046/job/53494723978\\u0022,\\u0022Name: TypeSpec Validation, Status: completed, Output: , Conclusion: failure, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237089/job/53494723968\\u0022,\\u0022Name: Set BreakingChange Status / Swagger BreakingChange - Set Status, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237047/job/53494723944\\u0022,\\u0022Name: Protected Files, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237037/job/53494723904\\u0022,\\u0022Name: Swagger Avocado - Analyze Code, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752236975/job/53494723898\\u0022,\\u0022Name: Sdk Suppressions, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237041/job/53494723884\\u0022,\\u0022Name: Summarize PR Impact, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237034/job/53494723845\\u0022,\\u0022Name: Swagger ModelValidation - Analyze Code, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237052/job/53494723837\\u0022,\\u0022Name: Summarize Checks, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237024/job/53494723775\\u0022,\\u0022Name: TypeSpec Migration Validation, Status: completed, Output: , Conclusion: skipped, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752236986/job/53494723765\\u0022,\\u0022Name: Breaking Change(Cross-Version) - Analyze Code, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237002/job/53494723706\\u0022,\\u0022Name: Summarize Checks, Status: completed, Output: , Conclusion: success, Link: https://github.com/Azure/azure-rest-api-specs/actions/runs/18752236892/job/53494723431\\u0022,\\u0022Total checks found: 42\\u0022,\\u0022Failed checks: 7\\u0022,\\u0022Pending required checks to merge the PR: 7.\\u0022],\\u0022Comments\\u0022:[\\u0022Comment by github-actions[bot]: \\\\u003Ch2\\\\u003ENext Steps to Merge\\\\u003C/h2\\\\u003E\\\\u231B Please wait. Next steps to merge this PR are being evaluated by automation. \\\\u231B\\\\u003Cbr /\\\\u003E\\\\u003Cbr /\\\\u003EComment generated by \\\\u003Ca href=\\\\u0022https://github.com/Azure/azure-rest-api-specs/actions/runs/18752237024\\\\u0022\\\\u003Esummarize-checks\\\\u003C/a\\\\u003E workflow run.\\\\n\\\\u003C!-- NextStepsToMerge --\\\\u003E\\u0022,\\u0022Comment by github-actions[bot]: \\\\u003Ch2\\\\u003ENext Steps to Merge\\\\u003C/h2\\\\u003ENext steps that must be taken to merge this PR: \\\\u003Cbr/\\\\u003E\\\\u003Cul\\\\u003E\\\\u003Cli\\\\u003E\\\\u274C The required check named \\\\u003Ccode\\\\u003ETypeSpec Validation\\\\u003C/code\\\\u003E has failed. Refer to the check in the PR\\\\u0027s \\\\u0027Checks\\\\u0027 tab for details on how to fix it and consult the \\\\u003Ca href=\\\\u0022https://aka.ms/ci-fix\\\\u0022\\\\u003Eaka.ms/ci-fix\\\\u003C/a\\\\u003E guide\\\\u003C/li\\\\u003E\\\\u003C/ul\\\\u003E\\\\u003Cbr /\\\\u003E\\\\u003Cbr /\\\\u003EComment generated by \\\\u003Ca href=\\\\u0022https://github.com/Azure/azure-rest-api-specs/actions/runs/18752402670\\\\u0022\\\\u003Esummarize-checks\\\\u003C/a\\\\u003E workflow run.\\\\n\\\\u003C!-- NextStepsToMerge --\\\\u003E\\u0022],\\u0022ApiViews\\u0022:[]}\u0022\r\n"}""";

        public ChatMessage GetMockResponse(string callid)
        {
            return new ChatMessage(
                ChatRole.Tool,
                [
                    new FunctionResultContent(
                        callid,
                        ToolResult
                    )
                ]
            );
        }

        public ChatMessage GetMockCall()
        {
            return new ChatMessage(
                ChatRole.Assistant,
                [
                    new FunctionCallContent(
                        CallId,
                        ToolName,
                        new Dictionary<string, object?>
                        {
                            { "repoRootPath", "C:\\azure-rest-api-specs" }
                        }
                    )
                ]
            );
        }
    }
}
