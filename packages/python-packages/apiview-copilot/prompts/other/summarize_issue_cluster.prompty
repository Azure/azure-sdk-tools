---
name: Summarize Issue Cluster
description: A prompt that summarizes a cluster of similar GitHub issues.
authors: 
  - tjprescott
version: 1.0.0
model:
  api: chat
  configuration:
    type: azure_openai
    api_version: 2025-03-01-preview
    azure_endpoint: ${env:OPENAI_ENDPOINT}
    azure_deployment: gpt-5
  parameters:
    frequency_penalty: 0
    presence_penalty: 0
    max_completion_tokens: 80000
    reasoning_effort: "medium"
sample:
  cluster_id: "12345"
  issues: |
    [
      'APIView- Latest release tag is shown incorrectly Latest released tag is shown incorrectly when revisions are not sorted in correct order. For e.g. Azure.Core has released 1.40 in June but APIView shows 1.39 as latest released revision even though Cosmos DB has 1.40 tagged as released. This is due to a bug in front end that shows first revision in the dropdown with released flag as `Latest Released`. We should change the logic to check Released on flag aslo.',
      "[APIView] Support Forcing APIView Revision in More Scenarios While reviewing the Java Core API views this month I noticed that many of the API views haven't been updated for a few weeks. From discussions with @praveenkuttappan I was informed that a new API view will only be generated if a meaningful difference has been made. At least for Java, changing dependency versions isn't a meaningful difference (one that'll require approval before releasing) and for many libraries that will be the only difference that may occur for months. Unfortunately, this means useful information may be lost and could result in confusing API views to exist. For example [azure-core-serializer-json-jackson](https://apiview.dev/Assemblies/Review/83768c0e56094634b973c8de003c09de/7702690237e743cdb7134c4534280611?diffRevisionId=b9f6537c29444b88900bb3b1ef76c64c&doc=False&diffOnly=True) looks like it has had a recent API difference but looking at API view metadata and knowing the library it has been API stable for a few months, only receiving dependency updates.\r\n\r\nMy request is that API view should support more granular updating, instead of checking for a meaningful difference to update the latest API view it should be any difference in what is generated. So, for Java this would mean that upgrading dependencies would cause a new API view, to give reviewers the most up-to-date information as possible.", 'Create Changelog for APIView We need to maintain change log and version for APIView to ensure we have proper documentation about the changes we release every month.',
      '[APIView] Add a "what\'s new" page to APIView This is a suggestion to add a "What\'s new" page, similar to VSCode\'s monthly change log, to announce new deployments an link to change logs.  We could keep a record of when the user last viewed this page in the user\'s preferences so they would only need to see it once after a new deployment.',
      'APIView - Retain a revision for each major minor package version APIView currently retain only one pending revision. This causes an issue when CI is enabled from main branch and releases are done from a feature branch for a different major-minor version. We should remove a pending revision from automatic API review only if package version is difference is in patch. As long as major-minor version is different, then APIView revision must be retained.',
      'APIView - Show a notification when a new revision is added Show a notification to inform about a new revision If review is open to inform the user about a new revision available for the review they are looking at..',
      "[APIView] Allow creating a permalink to the latest PR revision The new APIView is great in how it consolidates all APIViews for a package in once place!\r\n\r\nFor the work I'm doing on ClientModel, it would be great if I could create a URI to share with architects that automatically retrieves the latest revision for either PR-type or manual-type APIViews.  This is because I'm working in a feature branch and need architects to review APIs that are not checked into main.  I am able to create a permalink to a specific PR revision, but if I share this, there may be new PRs that have gone in since this revision, and architect may not see the latest version without needing to pull down the specific revision from the drop-menu.\r\n\r\n@KrzysztofCwalina/@tg-msft FYI\r\n\r\n", '(C++/Go) Update Release Info After releasing a package find the latest Automatic APIRevision with matching API surface and update the release information. (Release Date: ReleaseOn, Release Version: ReleasedAs)',
      'APIView - Uploaded file is parsed twice to generate new revision Uploaded artifact file is parsed twice first to get review metadata and then again parsed to generate revision token file. We should reuse initially parsed output to generate revision file instead of parsing again to avoid duplicate parser run.',
      "[APIView] Block on any major version change Following #9594. Currently, if there's no API surface change, a major version revision will not be generated. Given that major version bumps may happen due to branding/marketing, it may be expected that there's no API surface change. We still want to make sure that architects review versioning and confirm that API should not change.", "APIView - Do not remove automatic revision if revision is for a different package version CI build automatic revision every day and APIView deletes latest pending revision when a new request is processed to create automatic revision that has API changes. We should remove automatic revision only if it is for same package version to avoid removing an automatic version (in pending status) that was created for a different package version.\n\nContext: Go azcore had version 1.17.0 in pending status and they released a hotfix which removed the revision for 1.17.0 even though it's for a different package version. This causes issue in API change detection in PR when all further PR is compared against latest automatic revision created for hotfix instead of comparing against latest main branch revision.", 'Add ability to delete whole APIView (not just revisions) I deleted all revisions from https://apiview.dev/?notificationMessage=Review%20with%20ID%204c7c3f7f31f848fd81883300a327bec8%20has%20no%20valid%20APIRevisions. \n\nStill the review shows in the list of views. It should disappear when all revisions are gone. In fact there shoudl be a way to delete all revisions (or the view/library)',
      '[APIView] Migrate Profiles and Usage Samples to APIViewV2 Some APIView concepts have a distinct "v1" and "v2" model:\n- Comments\n- PullRequests\n- Reviews\n\nSome APIView concepts only exists in the "v2" model:\n- APIRevisions\n- MigrationStatus\n- SamplesRevisions\n\nBut there are some "v1" models that are repurposed in "v2", but slightly differently:\n- Profiles\n- UsageSamples\n\nFor maintainability, it would be better if these concepts existed in V2, so we can formally treat V1 as "legacy" (and hopefully eventually deprecate and remove it). ',
      '[APIView] Do not auto-delete the latest stable and preview revisions It seems APIView will only keep the latest version for all released SDKs for one service. But if latest version is preview version, we still want to keep the last stable version. We need to compare with last stable in many scenarios.', 
      'Add static link to find API review link for a package Add an API in APIView to map get URL with package name and language to actual APIView review link.\n\nFor e.g. https://apiview.dev/review?package=<packagename>&language=<language name> should map to actual review link to latest automatic revision.',
      "[APIView] CLI + API that returns a token file given the revision ID Given the current CLI work to get comments, I have a feature request to add a CLI command and a REST endpoint that will return the original token file given the revision ID. This would be helpful for debugging when an APIView doesn't look as expected. Currently, we need to either re-run the apistubgen tool locally on the associated whl or dig around in the CI run artifacts to find the generated token file.\n\nIt would be much faster to just be able to grab the token file given an APIView link.", 'API View - Last Updated column is not accurate The Last Updated should show the last time anything was updated on the review - including a new revision being added. Currently it only refers to when an update to the review entity itself was made. In the screenshot below, a new revision was added for each of the Generator libraries the same day as the screenshot being taken:\n\n![Image](https://github.com/user-attachments/assets/3e06dc08-64a4-4953-9322-1e3127c8aead)',
      "Auto API Views from PRs should add Samples When an API View is automatically created from a new PR being opened in one of the language repos, if the PR contains changes to the library's samples, those should be added to the API View listing in the samples tab. ", 'Convert PR Revision to Automatic instead of maintaining one of each Currently when a PR API Revision is merged into main, the PR Revision is retained AND an Automatic (from Main/source of truth) revision is created. To avoid this duplication, we should convert the PR Revision to an Automatic Revision via flag in the database. Once the PR Revision is converted to Automatic it will be locked and cannot be deleted.',
      "Add the ability to detect breaking changes in C++ SDK to ApiView tooling (or other tooling). The C++ repo doesn't currently have a mechanism to detect breaking changes in a pull request, this is a task list to cover the work needed to implement that.\n\n```[tasklist]\n\n- [ ] \n- [ ] Work with CELA to make the tooling for this public.\n\n```"
    ]
---
system:
You are a helpful AI agent that helps me cluster similar Github issues.

Here are GitHub issues from cluster {{cluster_id}}:
  {{issues}}

Provide your output as JSON in the following format:
{
  "label": string,   // 3-5 words describing the main theme,
  "summary": string  // A 2-3 sentence summary of the cluster
}
