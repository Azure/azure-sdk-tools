parameters:
- name: packages
  type: object
  displayName: |
    A list of package names to validate.
  default:
    - azure-ai-language-text
    - azure-app-configuration
    - azure-attestation
    - azure-batch
    - azure-communication-call-automation
    - azure-communication-calling-effects
    - azure-communication-chat
    - azure-communication-common
    - azure-communication-email
    - azure-communication-identity
    - azure-communication-messages
    - azure-communication-phone-numbers
    - azure-communication-react
    - azure-communication-rooms
    - azure-communication-sms
    - azure-container-registry
    - azure-cosmos
    - azure-data-tables
    - azure-digital-twins-core
    - azure-event-hubs
    - azure-eventgrid-namespaces
    - azure-eventgrid
    - azure-eventhubs-checkpointstore-blob
    - azure-identity-broker
    - azure-identity-cache-persistence
    - azure-identity-vscode
    - azure-identity
    - azure-keyvault-administration
    - azure-keyvault-certificates
    - azure-keyvault-common
    - azure-keyvault-keys
    - azure-keyvault-secrets
    - azure-monitor-ingestion
    - azure-monitor-opentelemetry
    - azure-monitor-query
    - azure-notification-hubs
    - azure-schema-registry-avro
    - azure-schema-registry-json
    - azure-schema-registry
    - azure-search-documents
    - azure-service-bus
    - azure-servicefabric
    - azure-storage-blob
    - azure-storage-file-datalake
    - azure-storage-file-share
    - azure-storage-queue
    - azure-web-pubsub-client
    - azure-web-pubsub

- name: maxParallel
  type: number

jobs:
  - job: content_validation_all
    displayName: Content Validation Matrix (All)
    strategy:
      matrix:
        ${{ each pkg in parameters.packages }}:
          ${{ pkg }}:
            packageName: ${{ pkg }}
      maxParallel: ${{ parameters.maxParallel }}
    variables:
      PackageName: $(packageName)
    pool:
      vmImage: ubuntu-latest
    steps:
    - template: /eng/pipelines/common/content-validation-for-javascript.yml
      parameters:
        packageName: $(PackageName)
