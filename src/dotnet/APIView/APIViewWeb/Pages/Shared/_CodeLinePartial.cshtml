@using ApiView
@using System.Collections
@using System.Text
@using APIViewWeb.Models
@model int
@{
    var codeLineSection = TempData["CodeLineSection"] as CodeLineModel [];
    var contentClass = $"code-line-section-content-{Model}";
    @if (codeLineSection == null)
    {
        <tr class="code-line @contentClass d-none"></tr>
    }
    else
    {
        foreach (var codeLineModel in codeLineSection)
        {
            var codeLine = codeLineModel.CodeLine;
            var lineClass = (codeLine.LineClass == null) ? contentClass : $"{contentClass} {codeLine.LineClass.Trim()}";
            var updatedCodeLine = new CodeLine(codeLine, lineClass: lineClass);
            var updatedCodeLineModel = new CodeLineModel(
                codeLineModel.Kind, updatedCodeLine, codeLineModel.CommentThread,
                codeLineModel.Diagnostics, codeLineModel.LineNumber);

            <partial name="_CodeLine" model="@updatedCodeLineModel" />
        }
    }
}