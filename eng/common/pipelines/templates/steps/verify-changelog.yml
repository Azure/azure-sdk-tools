parameters:
- name: PackageName
  type: string
  default: 'not-specified'
- name: ServiceName
  type: string
  default: 'not-specified'
- name: ForRelease
  type: boolean
  default: false

steps:
  - pwsh: |
      Import-Module "$(Build.SourcesDirectory)/eng/common/scripts/modules/common-manifest.psd1"
      $Language = "$(Build.Repository.Name)".Substring("$(Build.Repository.Name)".LastIndexOf('-') + 1)
      $PackageProp = Get-PkgProperties -PackageName ${{ parameters.PackageName }} -ServiceName ${{ parameters.ServiceName }} -Language $Language -RepoRoot $(Build.SourcesDirectory)
      Verify-ChangeLog -ChangeLogLocation $PackageProp.pkgChangeLogPath -VersionString $PackageProp.pkgReadMePath -ForRelease ${{ parameters.ForRelease }}

    displayName: Verify ChangeLog / Release Notes