parameters:
- name: PythonVersion
  type: string
  default: '3.10'

extends:
  template: /eng/pipelines/templates/stages/1es-redirect.yml
  parameters:
    stages:
      - stage: 'Build'
        jobs:
          - job: 'Build backend AI service'
            steps:
              - script: |
                  sudo api Update
                  sudo apt install golang-go
                displayName: 'install go-lang'
              - script: |
                  cd $(Build.SourcesDirectory)/wanl-fork-azure-sdk-fools/tools/sdk-ai-bots/azure-sdk-qa-bot-backend
                  ./run.sh start
                displayName: 'start backend AI agent service'
              - script: |
                  pip install -r requirements.txt
                displayName: 'Run Evals'
                workingDirectory: $(Build.SourcesDirectory)/wanl-fork-azure-sdk-fools/tools/sdk-ai-bots/azure-sdk-qa-bot-evaluation