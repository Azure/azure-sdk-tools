parameters:
- name: packages
  type: object
  displayName: |
    A list of package names to validate.
  default:
    - azure-ai-contentsafety
    - azure-ai-documentintelligence
    - azure-ai-evaluation
    - azure-ai-formrecognizer
    - azure-ai-language-conversations
    - azure-ai-language-questionanswering
    - azure-ai-ml
    - azure-ai-textanalytics
    - azure-ai-translation-document
    - azure-ai-translation-text
    - azure-ai-vision-imageanalysis
    - azure-appconfiguration-provider
    - azure-appconfiguration
    - azure-batch
    - azure-communication-callautomation
    - azure-communication-chat
    - azure-communication-email
    - azure-communication-identity
    - azure-communication-jobrouter
    - azure-communication-messages
    - azure-communication-phonenumbers
    - azure-communication-rooms
    - azure-communication-sms
    - azure-confidentialledger
    - azure-containerregistry
    - azure-core
    - azure-cosmos
    - azure-data-tables
    - azure-developer-devcenter
    - azure-developer-loadtesting
    - azure-digitaltwins-core
    - azure-eventgrid
    - azure-eventhub-checkpointstoreblob-aio
    - azure-eventhub-checkpointstoreblob
    - azure-eventhub
    - azure-functions-durable
    - azure-functions
    - azure-healthinsights-radiologyinsights
    - azure-identity-broker
    - azure-identity
    - azure-iot-device
    - azure-iot-deviceupdate
    - azure-iot-hub
    - azure-keyvault-administration
    - azure-keyvault-certificates
    - azure-keyvault-keys
    - azure-keyvault-secrets
    - azure-messaging-webpubsubclient
    - azure-messaging-webpubsubservice
    - azure-monitor-ingestion
    - azure-monitor-opentelemetry
    - azure-monitor-query
    - azure-schemaregistry-avroencoder
    - azure-schemaregistry
    - azure-search-documents
    - azure-security-attestation
    - azure-servicebus
    - azure-storage-blob
    - azure-storage-file-datalake
    - azure-storage-file-share
    - azure-storage-queue
    
- name: maxParallel
  type: number

jobs:
  - job: content_validation_all
    displayName: Content Validation Matrix (All)
    strategy:
      matrix:
        ${{ each pkg in parameters.packages }}:
          ${{ pkg }}:
            packageName: ${{ pkg }}
      maxParallel: ${{ parameters.maxParallel }}
    variables:
      PackageName: $(packageName)
    pool:
      vmImage: ubuntu-latest
    steps:
    - template: /eng/pipelines/common/content-validation-for-python.yml
      parameters:
        packageName: $(PackageName)
