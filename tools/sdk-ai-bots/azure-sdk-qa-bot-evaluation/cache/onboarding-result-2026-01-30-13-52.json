[
    {
        "testcase": "Fixing Invalid Type Specifications and SDK Regeneration in Released APIs",
        "expected": {
            "answer": "To fix invalid type specifications in previously released APIs and regenerate SDKs, you should follow these steps:\nFix the Spec and Follow Breaking Change Process: If your fix is a breaking change or a bug fix in an already released API version, you must submit a PR against the main branch of the public Azure REST API specs repository. If your PR is labeled with BreakingChangeReviewRequired or VersioningReviewRequired, you must get approval from the Breaking Change Review Board (see aka.ms/brch). For bug fixes, you may be able to apply the BreakingChange-Approved-BugFix label yourself, but the process should be strictly followed.\nARM Review: Once the breaking change review is resolved, request ARM review. Note: You cannot proceed to ARM review until the breaking change process is complete.\nSDK Generation and Release Plan:\nFor TypeSpec-based management plane SDKs (Java, JavaScript, Python, Go):\nUse the release planner to request SDK generation for the fixed API version. This will create a tracking issue in the Azure/sdk-release-request repo.\nThe Shanghai SDK team will generate the SDK and open a PR in the corresponding SDK repository. However, it is the service owner's responsibility to follow up, complete any customizations, and drive the PR through review and merge. You will be notified when the PR is created.\nAfter the SDK is generated, follow the release guidance to publish the package.\nFor .NET: Service owners must generate the SDK manually using the updated TypeSpec, then create and submit a PR to the azure-sdk-for-net repository.\nManual Follow-Up: While the initial SDK PRs for Java, JavaScript, Python, and Go are created automatically after you request generation, you are still responsible for any manual updates, review, and merging of these PRs. For .NET, all steps are manual after generation.\nSummary:\nYou do not need to manually create PRs in each SDK repo for Java, JavaScript, Python, and Go; the release planner and SDK generation pipelines will create draft PRs for you after you request generation.\nYou must still review, customize (if needed), and drive the SDK PRs to completion.\nFor .NET, the process is manual: you generate and submit the PR yourself.\nAlways ensure you have breaking change and ARM approvals before requesting SDK generation.\nFor more details, see the referenced documentation below.",
            "references": [
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Work against the release branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-2-update"
                },
                {
                    "title": "Generate .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                }
            ],
            "knowledges": [
                {
                    "title": "bad",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "What is TypeSpec?",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
                },
                {
                    "title": "Generate .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
                },
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Publish Android SDK reference docs",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-android-docs"
                },
                {
                    "title": "Publish SDK reference docs",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Run release SDK pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-pipeline"
                },
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Work against the release branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-2-update"
                },
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Using the SDK generated by the SDK generation pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-draft-pullrequest"
                },
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "What is TypeSpec?",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
                },
                {
                    "title": "ServiceOwners:                                          @fakeUser2 @Azure/fakeTeam2",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/supporting-sdk-customers/codeowners"
                },
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                }
            ]
        },
        "actual": {
            "answer": "To fix invalid type specifications in previously released management plane APIs, you should follow a structured process that ensures compliance with Azure API and SDK release guidelines, especially since this involves a breaking change:\n\n1. **Prepare the Fix and Plan**:\n   - Create a branch from the main API spec repo (e.g., azure-rest-api-specs) for your service.\n   - Implement the type specification fix for both the preview and stable versions. Ensure you clearly document the change and its impact.\n   - Create a release plan in the Release Planner tool, specifying the affected versions and the nature of the breaking change.\n\n2. **Review Process**:\n   - Submit your changes for review by the ARM API Review Board. For breaking changes, you must also email the Breaking Change Board (azbreakchangereview@microsoft.com) to request approval. This is mandatory for any breaking change in released APIs.\n   - The review boards will evaluate the change, its necessity, and its impact on existing customers.\n\n3. **SDK Regeneration and Update**:\n   - Once the fix is approved, regenerate the SDKs for all affected languages using the updated API spec. For management plane .NET SDKs, follow the documented process to generate the SDK from the updated spec.\n   - SDK generation pipelines will not automatically trigger for previously released versions. You will need to manually create pull requests in each SDK repo (e.g., azure-sdk-for-net, azure-sdk-for-java, etc.) with the regenerated SDK code reflecting the fix.\n   - Ensure that you update the CHANGELOG.md in each SDK repo to document the breaking change and its resolution.\n   - For GA releases, obtain APIView approval from the SDK language owners before proceeding with the release.\n\n4. **Release and Documentation**:\n   - Once all SDK PRs are merged and validated, proceed with the release process as outlined in the SDK release guidelines. Make sure your package metadata and documentation are updated to reflect the change.\n\n**Key Points:**\n- Breaking changes require explicit approval from both ARM and the Breaking Change Board.\n- SDK regeneration for previously released versions is a manual process; you must create PRs in each SDK repo.\n- Document all changes thoroughly in the release plan and CHANGELOGs.\n- Follow the standard review and release workflow for each SDK language.\n\nIf you need further assistance, you can reach out to the ARM review board, the Breaking Change Board, or use the Teams channels listed in the documentation.",
            "references": [
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Run release SDK pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-pipeline"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                }
            ],
            "knowledges": [
                {
                    "title": "bad",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "What is TypeSpec?",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
                },
                {
                    "title": "Generate .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
                },
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Publish Android SDK reference docs",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-android-docs"
                },
                {
                    "title": "Publish SDK reference docs",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Run release SDK pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-pipeline"
                },
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Run release SDK pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-pipeline"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Using the SDK generated by the SDK generation pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-draft-pullrequest"
                },
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "What is TypeSpec?",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
                }
            ]
        },
        "similarity": 4.0,
        "gpt_similarity": 4.0,
        "similarity_result": "pass",
        "similarity_threshold": 3,
        "similarity_prompt_tokens": 1983,
        "similarity_completion_tokens": 1,
        "similarity_total_tokens": 1984,
        "similarity_finish_reason": "length",
        "similarity_model": "gpt-4.1-2025-04-14",
        "similarity_sample_input": "[{\"role\": \"user\", \"content\": \"{\\\"query\\\": \\\"title: Fixing Invalid Type Specifications and SDK Regeneration in Released APIs\\\\n\\\\nquestion: Hi Azure SDK Onboarding,\\\\nOur team found an invalid type specification in our previous 2 API releases (1 preview, 1 stable).  I've read through (lightly) the breaking change deep dive, which looks like I'll have to reach out to the review board to get their approval, however, I was wondering what is the recommended way to implement a fix for existing APIs, up to the point where it can be reviewed by ARM and Breaking changes board.\\\\nNormally, I would create a branch, commit a base version for review, then create a release plan against the new branch (then add in changes, get ARM sign off, then request the sdk release).\\\\nHow do I regenerate the SDKs once I have a fix in place for the previously released verisons?  Will they require manual updates (e.g. create a PR in each sdk repo with a fix)?\\\\nAny guidance would be appreciated!\\\", \\\"response\\\": \\\"To fix invalid type specifications in previously released management plane APIs, you should follow a structured process that ensures compliance with Azure API and SDK release guidelines, especially since this involves a breaking change:\\\\n\\\\n1. **Prepare the Fix and Plan**:\\\\n   - Create a branch from the main API spec repo (e.g., azure-rest-api-specs) for your service.\\\\n   - Implement the type specification fix for both the preview and stable versions. Ensure you clearly document the change and its impact.\\\\n   - Create a release plan in the Release Planner tool, specifying the affected versions and the nature of the breaking change.\\\\n\\\\n2. **Review Process**:\\\\n   - Submit your changes for review by the ARM API Review Board. For breaking changes, you must also email the Breaking Change Board (azbreakchangereview@microsoft.com) to request approval. This is mandatory for any breaking change in released APIs.\\\\n   - The review boards will evaluate the change, its necessity, and its impact on existing customers.\\\\n\\\\n3. **SDK Regeneration and Update**:\\\\n   - Once the fix is approved, regenerate the SDKs for all affected languages using the updated API spec. For management plane .NET SDKs, follow the documented process to generate the SDK from the updated spec.\\\\n   - SDK generation pipelines will not automatically trigger for previously released versions. You will need to manually create pull requests in each SDK repo (e.g., azure-sdk-for-net, azure-sdk-for-java, etc.) with the regenerated SDK code reflecting the fix.\\\\n   - Ensure that you update the CHANGELOG.md in each SDK repo to document the breaking change and its resolution.\\\\n   - For GA releases, obtain APIView approval from the SDK language owners before proceeding with the release.\\\\n\\\\n4. **Release and Documentation**:\\\\n   - Once all SDK PRs are merged and validated, proceed with the release process as outlined in the SDK release guidelines. Make sure your package metadata and documentation are updated to reflect the change.\\\\n\\\\n**Key Points:**\\\\n- Breaking changes require explicit approval from both ARM and the Breaking Change Board.\\\\n- SDK regeneration for previously released versions is a manual process; you must create PRs in each SDK repo.\\\\n- Document all changes thoroughly in the release plan and CHANGELOGs.\\\\n- Follow the standard review and release workflow for each SDK language.\\\\n\\\\nIf you need further assistance, you can reach out to the ARM review board, the Breaking Change Board, or use the Teams channels listed in the documentation.\\\", \\\"ground_truth\\\": \\\"To fix invalid type specifications in previously released APIs and regenerate SDKs, you should follow these steps:\\\\nFix the Spec and Follow Breaking Change Process: If your fix is a breaking change or a bug fix in an already released API version, you must submit a PR against the main branch of the public Azure REST API specs repository. If your PR is labeled with BreakingChangeReviewRequired or VersioningReviewRequired, you must get approval from the Breaking Change Review Board (see aka.ms/brch). For bug fixes, you may be able to apply the BreakingChange-Approved-BugFix label yourself, but the process should be strictly followed.\\\\nARM Review: Once the breaking change review is resolved, request ARM review. Note: You cannot proceed to ARM review until the breaking change process is complete.\\\\nSDK Generation and Release Plan:\\\\nFor TypeSpec-based management plane SDKs (Java, JavaScript, Python, Go):\\\\nUse the release planner to request SDK generation for the fixed API version. This will create a tracking issue in the Azure/sdk-release-request repo.\\\\nThe Shanghai SDK team will generate the SDK and open a PR in the corresponding SDK repository. However, it is the service owner's responsibility to follow up, complete any customizations, and drive the PR through review and merge. You will be notified when the PR is created.\\\\nAfter the SDK is generated, follow the release guidance to publish the package.\\\\nFor .NET: Service owners must generate the SDK manually using the updated TypeSpec, then create and submit a PR to the azure-sdk-for-net repository.\\\\nManual Follow-Up: While the initial SDK PRs for Java, JavaScript, Python, and Go are created automatically after you request generation, you are still responsible for any manual updates, review, and merging of these PRs. For .NET, all steps are manual after generation.\\\\nSummary:\\\\nYou do not need to manually create PRs in each SDK repo for Java, JavaScript, Python, and Go; the release planner and SDK generation pipelines will create draft PRs for you after you request generation.\\\\nYou must still review, customize (if needed), and drive the SDK PRs to completion.\\\\nFor .NET, the process is manual: you generate and submit the PR yourself.\\\\nAlways ensure you have breaking change and ARM approvals before requesting SDK generation.\\\\nFor more details, see the referenced documentation below.\\\"}\"}]",
        "similarity_sample_output": "[{\"role\": \"assistant\", \"content\": \"4\"}]",
        "response_completeness": 4.0,
        "response_completeness_result": "pass",
        "response_completeness_threshold": 3,
        "response_completeness_reason": "The response is mostly complete but misses a key distinction about SDK PR automation for non-.NET languages, which is a significant detail in the ground truth.",
        "response_completeness_prompt_tokens": 2308,
        "response_completeness_completion_tokens": 318,
        "response_completeness_total_tokens": 2626,
        "response_completeness_finish_reason": "stop",
        "response_completeness_model": "gpt-4.1-2025-04-14",
        "response_completeness_sample_input": "[{\"role\": \"user\", \"content\": \"{\\\"response\\\": \\\"To fix invalid type specifications in previously released management plane APIs, you should follow a structured process that ensures compliance with Azure API and SDK release guidelines, especially since this involves a breaking change:\\\\n\\\\n1. **Prepare the Fix and Plan**:\\\\n   - Create a branch from the main API spec repo (e.g., azure-rest-api-specs) for your service.\\\\n   - Implement the type specification fix for both the preview and stable versions. Ensure you clearly document the change and its impact.\\\\n   - Create a release plan in the Release Planner tool, specifying the affected versions and the nature of the breaking change.\\\\n\\\\n2. **Review Process**:\\\\n   - Submit your changes for review by the ARM API Review Board. For breaking changes, you must also email the Breaking Change Board (azbreakchangereview@microsoft.com) to request approval. This is mandatory for any breaking change in released APIs.\\\\n   - The review boards will evaluate the change, its necessity, and its impact on existing customers.\\\\n\\\\n3. **SDK Regeneration and Update**:\\\\n   - Once the fix is approved, regenerate the SDKs for all affected languages using the updated API spec. For management plane .NET SDKs, follow the documented process to generate the SDK from the updated spec.\\\\n   - SDK generation pipelines will not automatically trigger for previously released versions. You will need to manually create pull requests in each SDK repo (e.g., azure-sdk-for-net, azure-sdk-for-java, etc.) with the regenerated SDK code reflecting the fix.\\\\n   - Ensure that you update the CHANGELOG.md in each SDK repo to document the breaking change and its resolution.\\\\n   - For GA releases, obtain APIView approval from the SDK language owners before proceeding with the release.\\\\n\\\\n4. **Release and Documentation**:\\\\n   - Once all SDK PRs are merged and validated, proceed with the release process as outlined in the SDK release guidelines. Make sure your package metadata and documentation are updated to reflect the change.\\\\n\\\\n**Key Points:**\\\\n- Breaking changes require explicit approval from both ARM and the Breaking Change Board.\\\\n- SDK regeneration for previously released versions is a manual process; you must create PRs in each SDK repo.\\\\n- Document all changes thoroughly in the release plan and CHANGELOGs.\\\\n- Follow the standard review and release workflow for each SDK language.\\\\n\\\\nIf you need further assistance, you can reach out to the ARM review board, the Breaking Change Board, or use the Teams channels listed in the documentation.\\\", \\\"ground_truth\\\": \\\"To fix invalid type specifications in previously released APIs and regenerate SDKs, you should follow these steps:\\\\nFix the Spec and Follow Breaking Change Process: If your fix is a breaking change or a bug fix in an already released API version, you must submit a PR against the main branch of the public Azure REST API specs repository. If your PR is labeled with BreakingChangeReviewRequired or VersioningReviewRequired, you must get approval from the Breaking Change Review Board (see aka.ms/brch). For bug fixes, you may be able to apply the BreakingChange-Approved-BugFix label yourself, but the process should be strictly followed.\\\\nARM Review: Once the breaking change review is resolved, request ARM review. Note: You cannot proceed to ARM review until the breaking change process is complete.\\\\nSDK Generation and Release Plan:\\\\nFor TypeSpec-based management plane SDKs (Java, JavaScript, Python, Go):\\\\nUse the release planner to request SDK generation for the fixed API version. This will create a tracking issue in the Azure/sdk-release-request repo.\\\\nThe Shanghai SDK team will generate the SDK and open a PR in the corresponding SDK repository. However, it is the service owner's responsibility to follow up, complete any customizations, and drive the PR through review and merge. You will be notified when the PR is created.\\\\nAfter the SDK is generated, follow the release guidance to publish the package.\\\\nFor .NET: Service owners must generate the SDK manually using the updated TypeSpec, then create and submit a PR to the azure-sdk-for-net repository.\\\\nManual Follow-Up: While the initial SDK PRs for Java, JavaScript, Python, and Go are created automatically after you request generation, you are still responsible for any manual updates, review, and merging of these PRs. For .NET, all steps are manual after generation.\\\\nSummary:\\\\nYou do not need to manually create PRs in each SDK repo for Java, JavaScript, Python, and Go; the release planner and SDK generation pipelines will create draft PRs for you after you request generation.\\\\nYou must still review, customize (if needed), and drive the SDK PRs to completion.\\\\nFor .NET, the process is manual: you generate and submit the PR yourself.\\\\nAlways ensure you have breaking change and ARM approvals before requesting SDK generation.\\\\nFor more details, see the referenced documentation below.\\\"}\"}]",
        "response_completeness_sample_output": "[{\"role\": \"assistant\", \"content\": \"<S0>Let's think step by step:\\n1. The ground truth describes a process for fixing invalid type specifications in previously released APIs and regenerating SDKs, with specific steps for breaking change approval, ARM review, SDK generation, and manual follow-up, especially distinguishing between .NET (manual) and other languages (automated PR creation).\\n2. The response covers the need for breaking change and ARM approval, submitting changes for review, and manual SDK regeneration and PR creation for all languages.\\n3. The response incorrectly states that SDK regeneration and PR creation for previously released versions is manual for all languages, while the ground truth clarifies that for Java, JavaScript, Python, and Go, PRs are created automatically after requesting generation, and only .NET is fully manual.\\n4. The response does mention documentation, release planning, and the need to update changelogs, which aligns with the ground truth.\\n5. The response misses the distinction between automated and manual processes for different SDK languages, which is a key point in the ground truth.\\n6. Most other steps (review, approval, documentation, release) are present, but the error about manual PR creation for all languages is a significant omission.\\n7. Therefore, the response contains most, but not all, of the necessary and relevant information, with a notable error regarding SDK PR creation automation.</S0>\\n<S1>The response is mostly complete but misses a key distinction about SDK PR automation for non-.NET languages, which is a significant detail in the ground truth.</S1>\\n<S2>4</S2>\"}]",
        "reference_match": 0.5,
        "reference_match_exact_matches": [
            {
                "title": "Suppress validation failures on a PR",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
            },
            {
                "title": "Prerequisites to release .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
            }
        ],
        "reference_match_unexpected_refs": [
            {
                "title": "Run release SDK pipeline",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-pipeline"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            }
        ],
        "reference_match_missing_refs": [
            {
                "title": "Work against the release branch",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-2-update"
            },
            {
                "title": "Generate .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
            }
        ],
        "reference_match_result": "fail",
        "knowledge_match": 0.9230769230769231,
        "knowledge_match_exact_matches": [
            {
                "title": "bad",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
            },
            {
                "title": "Convert OpenAPI specs to TypeSpec",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "Convert OpenAPI specs to TypeSpec",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
            },
            {
                "title": "Convert OpenAPI specs to TypeSpec",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
            },
            {
                "title": "What is TypeSpec?",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
            },
            {
                "title": "Generate .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
            },
            {
                "title": "Suppress validation failures on a PR",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
            },
            {
                "title": "Suppress validation failures on a PR",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
            },
            {
                "title": "Prerequisites to release .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
            },
            {
                "title": "Publish Android SDK reference docs",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-android-docs"
            },
            {
                "title": "Publish SDK reference docs",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
            },
            {
                "title": "Prerequisites to release .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
            },
            {
                "title": "Prerequisites to release .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "Prerequisites to release .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
            },
            {
                "title": "Run release SDK pipeline",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-pipeline"
            },
            {
                "title": "Suppress validation failures on a PR",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
            },
            {
                "title": "Suppress validation failures on a PR",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
            },
            {
                "title": "Using the SDK generated by the SDK generation pipeline",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-draft-pullrequest"
            },
            {
                "title": "Suppress validation failures on a PR",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
            },
            {
                "title": "What is TypeSpec?",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
            },
            {
                "title": "Suppress validation failures on a PR",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
            }
        ],
        "knowledge_match_unexpected_refs": [],
        "knowledge_match_missing_refs": [
            {
                "title": "Work against the release branch",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-2-update"
            },
            {
                "title": "ServiceOwners:                                          @fakeUser2 @Azure/fakeTeam2",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/supporting-sdk-customers/codeowners"
            }
        ],
        "knowledge_match_result": "pass",
        "overall_score": 0.0
    },
    {
        "testcase": "TypeSpec SDK API Reviews Process for Management Plane Services",
        "expected": {
            "answer": "Welcome to the TypeSpec and Azure SDK onboarding process! Since you are working on a new preview API version and have generated the SDKs (autogenerated SDK API reviews), here is how you get these reviewed by the specific SDK teams:\nManagement Plane (ARM) SDKs Do NOT Require Arch Board Review:\nFor management plane (ARM) libraries like Azure Fleet, you do NOT need to schedule an SDK Architecture Board meeting. The review process is handled through the pull request (PR) workflow in the Azure REST API Specs repository.\nSDK Review Process for Your Scenario:\nAfter your REST API spec PR is approved and merged, the next steps are:\nEnsure you have a release plan created in the Azure SDK Release Planner.\nThe SDK generation and release planning will involve tracking the release plan milestones, where you can monitor which language SDKs are being generated and when they are ready for review.\nAssigning Specific SDK Teams as Reviewers:\nSDK teams are automatically assigned as reviewers for their respective language repos using the CODEOWNERS file in each SDK repository. If your service is not already listed in the CODEOWNERS file for a given language SDK repo, you should add your service and the appropriate GitHub users or teams to ensure SDK team visibility and review (see the reference for details).\nYou can also @-mention specific SDK team members in the generated SDK PRs in each language repository if you need urgent attention.\nHow to Track and Request Review:\nAfter the SDK PR is generated (either manually or via automation), monitor the PR in the respective SDK repo. The SDK team responsible for that language will review according to the CODEOWNERS assignment.\nIf you do not see timely review or need to escalate, reach out to the language-specific Teams channel or the SDK repo maintainers directly.\nSummary of Steps:\nConfirm your service is listed in the CODEOWNERS file for each SDK repo.\nCreate/track your release plan in the Azure SDK Release Planner.\nMonitor and follow up on the generated SDK PRs for reviews.\nFor Management Plane, no Arch Board meeting is needed; reviews are handled via the PR process.\nLet me know if you need guidance on updating CODEOWNERS or navigating the release planner!\nReferences below provide detailed steps and process links.",
            "references": [
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "CODEOWNERS",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/supporting-sdk-customers/codeowners"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                }
            ],
            "knowledges": [
                {
                    "title": "Generate .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
                },
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
                },
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "What is TypeSpec?",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
                },
                {
                    "title": "What is TypeSpec?",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "bad",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Using the SDK generated by the SDK generation pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-draft-pullrequest"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "CODEOWNERS",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/supporting-sdk-customers/codeowners"
                },
                {
                    "title": "Using the SDK generated by the SDK generation pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-draft-pullrequest"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "SDK generation configuration",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-spec-gen-sdk-config"
                }
            ]
        },
        "actual": {
            "answer": "To get your autogenerated SDK API reviews for your management plane TypeSpec PR reviewed by the appropriate SDK teams, you should follow the Azure SDK Architecture Review process:\n\n1. **Prepare Required Materials:** For a Stable (GA) review, you need to provide APIView links for all Tier 1 languages (.NET, Java, JavaScript/TypeScript, Python), code samples, a link to your API spec directory (must include `client.tsp`), links to the originating PRs for each APIView, and README links for each language. For Beta (Preview) reviews, you need at least one SDK language ready and passing CI gates.\n\n2. **Request a Review:**\n   - For a Stable (GA) review, send an email to azsdkarch-help@microsoft.com using the provided template, including all the required links and confirmation of CI validation status.\n   - For Beta (Preview) review, ensure your Service Introduction meeting is complete, your API specs are finalized, and at least one SDK language is ready. Then request the review as described in the documentation.\n\n3. **Async Review Workflow:** Once you submit your review request, the Architecture Board PM will verify materials and CI status, assign architects for each language, and those architects will provide feedback directly in APIView or via email. You will iterate on feedback until approval is granted.\n\n4. **CODEOWNERS Assignment:** The SDK repositories use GitHub's CODEOWNERS file to automatically assign reviewers from the relevant SDK teams when you open a PR. Ensure your service's entry in CODEOWNERS is up to date so the correct team members are notified.\n\n5. **Monitor and Respond:** Watch your PRs and APIView for feedback from SDK owners and architects. Address comments and iterate as needed.\n\nIf you need help with the process or have confidential features, reach out via the Teams channel or the azsdkarch-help email for support.\n\n**Summary:**\n- Prepare all required review materials (APIView, samples, spec directory, PR links, README).\n- Request a review via email for GA, or follow the Beta review process for preview.\n- Ensure CODEOWNERS is set for automatic reviewer assignment.\n- Monitor feedback and iterate until approval.\n\nFor more details, see the referenced documentation below.",
            "references": [
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "CODEOWNERS",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/supporting-sdk-customers/codeowners"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                }
            ],
            "knowledges": [
                {
                    "title": "Generate .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
                },
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
                },
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "What is TypeSpec?",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
                },
                {
                    "title": "What is TypeSpec?",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "bad",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Using the SDK generated by the SDK generation pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-draft-pullrequest"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "CODEOWNERS",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/supporting-sdk-customers/codeowners"
                },
                {
                    "title": "Using the SDK generated by the SDK generation pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-draft-pullrequest"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "SDK generation configuration",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-spec-gen-sdk-config"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                }
            ]
        },
        "similarity": 3.0,
        "gpt_similarity": 3.0,
        "similarity_result": "pass",
        "similarity_threshold": 3,
        "similarity_prompt_tokens": 1814,
        "similarity_completion_tokens": 1,
        "similarity_total_tokens": 1815,
        "similarity_finish_reason": "length",
        "similarity_model": "gpt-4.1-2025-04-14",
        "similarity_sample_input": "[{\"role\": \"user\", \"content\": \"{\\\"query\\\": \\\"title: TypeSpec SDK API Reviews Process for Management Plane Services\\\\n\\\\nquestion: Hello General,\\\\nFirst time working on typespec. I'm from Compute team and this is my api-specs PR to add a new preview API version: Add 2025-07-01-preview API version to Azure Fleet by diyellap \\\\u00b7 Pull Request #36207 \\\\u00b7 Azure/azure-rest-api-specs.\\\\nIt has autogenerated SDK API reviews. How to get these reviewed by specific SDK teams?\\\", \\\"response\\\": \\\"To get your autogenerated SDK API reviews for your management plane TypeSpec PR reviewed by the appropriate SDK teams, you should follow the Azure SDK Architecture Review process:\\\\n\\\\n1. **Prepare Required Materials:** For a Stable (GA) review, you need to provide APIView links for all Tier 1 languages (.NET, Java, JavaScript/TypeScript, Python), code samples, a link to your API spec directory (must include `client.tsp`), links to the originating PRs for each APIView, and README links for each language. For Beta (Preview) reviews, you need at least one SDK language ready and passing CI gates.\\\\n\\\\n2. **Request a Review:**\\\\n   - For a Stable (GA) review, send an email to azsdkarch-help@microsoft.com using the provided template, including all the required links and confirmation of CI validation status.\\\\n   - For Beta (Preview) review, ensure your Service Introduction meeting is complete, your API specs are finalized, and at least one SDK language is ready. Then request the review as described in the documentation.\\\\n\\\\n3. **Async Review Workflow:** Once you submit your review request, the Architecture Board PM will verify materials and CI status, assign architects for each language, and those architects will provide feedback directly in APIView or via email. You will iterate on feedback until approval is granted.\\\\n\\\\n4. **CODEOWNERS Assignment:** The SDK repositories use GitHub's CODEOWNERS file to automatically assign reviewers from the relevant SDK teams when you open a PR. Ensure your service's entry in CODEOWNERS is up to date so the correct team members are notified.\\\\n\\\\n5. **Monitor and Respond:** Watch your PRs and APIView for feedback from SDK owners and architects. Address comments and iterate as needed.\\\\n\\\\nIf you need help with the process or have confidential features, reach out via the Teams channel or the azsdkarch-help email for support.\\\\n\\\\n**Summary:**\\\\n- Prepare all required review materials (APIView, samples, spec directory, PR links, README).\\\\n- Request a review via email for GA, or follow the Beta review process for preview.\\\\n- Ensure CODEOWNERS is set for automatic reviewer assignment.\\\\n- Monitor feedback and iterate until approval.\\\\n\\\\nFor more details, see the referenced documentation below.\\\", \\\"ground_truth\\\": \\\"Welcome to the TypeSpec and Azure SDK onboarding process! Since you are working on a new preview API version and have generated the SDKs (autogenerated SDK API reviews), here is how you get these reviewed by the specific SDK teams:\\\\nManagement Plane (ARM) SDKs Do NOT Require Arch Board Review:\\\\nFor management plane (ARM) libraries like Azure Fleet, you do NOT need to schedule an SDK Architecture Board meeting. The review process is handled through the pull request (PR) workflow in the Azure REST API Specs repository.\\\\nSDK Review Process for Your Scenario:\\\\nAfter your REST API spec PR is approved and merged, the next steps are:\\\\nEnsure you have a release plan created in the Azure SDK Release Planner.\\\\nThe SDK generation and release planning will involve tracking the release plan milestones, where you can monitor which language SDKs are being generated and when they are ready for review.\\\\nAssigning Specific SDK Teams as Reviewers:\\\\nSDK teams are automatically assigned as reviewers for their respective language repos using the CODEOWNERS file in each SDK repository. If your service is not already listed in the CODEOWNERS file for a given language SDK repo, you should add your service and the appropriate GitHub users or teams to ensure SDK team visibility and review (see the reference for details).\\\\nYou can also @-mention specific SDK team members in the generated SDK PRs in each language repository if you need urgent attention.\\\\nHow to Track and Request Review:\\\\nAfter the SDK PR is generated (either manually or via automation), monitor the PR in the respective SDK repo. The SDK team responsible for that language will review according to the CODEOWNERS assignment.\\\\nIf you do not see timely review or need to escalate, reach out to the language-specific Teams channel or the SDK repo maintainers directly.\\\\nSummary of Steps:\\\\nConfirm your service is listed in the CODEOWNERS file for each SDK repo.\\\\nCreate/track your release plan in the Azure SDK Release Planner.\\\\nMonitor and follow up on the generated SDK PRs for reviews.\\\\nFor Management Plane, no Arch Board meeting is needed; reviews are handled via the PR process.\\\\nLet me know if you need guidance on updating CODEOWNERS or navigating the release planner!\\\\nReferences below provide detailed steps and process links.\\\"}\"}]",
        "similarity_sample_output": "[{\"role\": \"assistant\", \"content\": \"3\"}]",
        "response_completeness": 2.0,
        "response_completeness_result": "fail",
        "response_completeness_threshold": 3,
        "response_completeness_reason": "The Response mostly describes a different process (Arch Board review) and misses the main management plane workflow, only partially mentioning CODEOWNERS and monitoring PRs. It omits most key steps and claims from the Ground Truth.",
        "response_completeness_prompt_tokens": 2243,
        "response_completeness_completion_tokens": 320,
        "response_completeness_total_tokens": 2563,
        "response_completeness_finish_reason": "stop",
        "response_completeness_model": "gpt-4.1-2025-04-14",
        "response_completeness_sample_input": "[{\"role\": \"user\", \"content\": \"{\\\"response\\\": \\\"To get your autogenerated SDK API reviews for your management plane TypeSpec PR reviewed by the appropriate SDK teams, you should follow the Azure SDK Architecture Review process:\\\\n\\\\n1. **Prepare Required Materials:** For a Stable (GA) review, you need to provide APIView links for all Tier 1 languages (.NET, Java, JavaScript/TypeScript, Python), code samples, a link to your API spec directory (must include `client.tsp`), links to the originating PRs for each APIView, and README links for each language. For Beta (Preview) reviews, you need at least one SDK language ready and passing CI gates.\\\\n\\\\n2. **Request a Review:**\\\\n   - For a Stable (GA) review, send an email to azsdkarch-help@microsoft.com using the provided template, including all the required links and confirmation of CI validation status.\\\\n   - For Beta (Preview) review, ensure your Service Introduction meeting is complete, your API specs are finalized, and at least one SDK language is ready. Then request the review as described in the documentation.\\\\n\\\\n3. **Async Review Workflow:** Once you submit your review request, the Architecture Board PM will verify materials and CI status, assign architects for each language, and those architects will provide feedback directly in APIView or via email. You will iterate on feedback until approval is granted.\\\\n\\\\n4. **CODEOWNERS Assignment:** The SDK repositories use GitHub's CODEOWNERS file to automatically assign reviewers from the relevant SDK teams when you open a PR. Ensure your service's entry in CODEOWNERS is up to date so the correct team members are notified.\\\\n\\\\n5. **Monitor and Respond:** Watch your PRs and APIView for feedback from SDK owners and architects. Address comments and iterate as needed.\\\\n\\\\nIf you need help with the process or have confidential features, reach out via the Teams channel or the azsdkarch-help email for support.\\\\n\\\\n**Summary:**\\\\n- Prepare all required review materials (APIView, samples, spec directory, PR links, README).\\\\n- Request a review via email for GA, or follow the Beta review process for preview.\\\\n- Ensure CODEOWNERS is set for automatic reviewer assignment.\\\\n- Monitor feedback and iterate until approval.\\\\n\\\\nFor more details, see the referenced documentation below.\\\", \\\"ground_truth\\\": \\\"Welcome to the TypeSpec and Azure SDK onboarding process! Since you are working on a new preview API version and have generated the SDKs (autogenerated SDK API reviews), here is how you get these reviewed by the specific SDK teams:\\\\nManagement Plane (ARM) SDKs Do NOT Require Arch Board Review:\\\\nFor management plane (ARM) libraries like Azure Fleet, you do NOT need to schedule an SDK Architecture Board meeting. The review process is handled through the pull request (PR) workflow in the Azure REST API Specs repository.\\\\nSDK Review Process for Your Scenario:\\\\nAfter your REST API spec PR is approved and merged, the next steps are:\\\\nEnsure you have a release plan created in the Azure SDK Release Planner.\\\\nThe SDK generation and release planning will involve tracking the release plan milestones, where you can monitor which language SDKs are being generated and when they are ready for review.\\\\nAssigning Specific SDK Teams as Reviewers:\\\\nSDK teams are automatically assigned as reviewers for their respective language repos using the CODEOWNERS file in each SDK repository. If your service is not already listed in the CODEOWNERS file for a given language SDK repo, you should add your service and the appropriate GitHub users or teams to ensure SDK team visibility and review (see the reference for details).\\\\nYou can also @-mention specific SDK team members in the generated SDK PRs in each language repository if you need urgent attention.\\\\nHow to Track and Request Review:\\\\nAfter the SDK PR is generated (either manually or via automation), monitor the PR in the respective SDK repo. The SDK team responsible for that language will review according to the CODEOWNERS assignment.\\\\nIf you do not see timely review or need to escalate, reach out to the language-specific Teams channel or the SDK repo maintainers directly.\\\\nSummary of Steps:\\\\nConfirm your service is listed in the CODEOWNERS file for each SDK repo.\\\\nCreate/track your release plan in the Azure SDK Release Planner.\\\\nMonitor and follow up on the generated SDK PRs for reviews.\\\\nFor Management Plane, no Arch Board meeting is needed; reviews are handled via the PR process.\\\\nLet me know if you need guidance on updating CODEOWNERS or navigating the release planner!\\\\nReferences below provide detailed steps and process links.\\\"}\"}]",
        "response_completeness_sample_output": "[{\"role\": \"assistant\", \"content\": \"<S0>Let's think step by step:  \\n1. The Ground Truth specifies that for management plane (ARM) SDKs, no Architecture Board review is needed; the review is handled via PR workflow in the Azure REST API Specs repo.  \\n2. It emphasizes the use of CODEOWNERS for automatic reviewer assignment, tracking release plans in the Azure SDK Release Planner, and monitoring PRs for feedback.  \\n3. The Response, however, describes a process involving the Azure SDK Architecture Review, including preparing materials, sending emails for review, and an async review workflow with the Architecture Board PM and architects.  \\n4. The Response does mention CODEOWNERS and monitoring/responding to feedback, which aligns with part of the Ground Truth.  \\n5. However, the Response misses the key point that management plane SDKs do NOT require Arch Board review and instead describes a process relevant to data plane or GA SDKs, not the management plane scenario in the Ground Truth.  \\n6. The Response also omits the release planner step and the PR workflow as the main review mechanism, and does not mention escalation via Teams or repo maintainers.  \\n7. Therefore, the Response contains only a small percentage of the necessary and relevant information, mostly missing the specific claims and steps for the management plane scenario.</S0>\\n<S1>The Response mostly describes a different process (Arch Board review) and misses the main management plane workflow, only partially mentioning CODEOWNERS and monitoring PRs. It omits most key steps and claims from the Ground Truth.</S1>\\n<S2>2</S2>\"}]",
        "reference_match": 1.0,
        "reference_match_exact_matches": [
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "CODEOWNERS",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/supporting-sdk-customers/codeowners"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            }
        ],
        "reference_match_unexpected_refs": [],
        "reference_match_missing_refs": [],
        "reference_match_result": "pass",
        "knowledge_match": 1.0,
        "knowledge_match_exact_matches": [
            {
                "title": "Generate .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
            },
            {
                "title": "Convert OpenAPI specs to TypeSpec",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
            },
            {
                "title": "Convert OpenAPI specs to TypeSpec",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "Prerequisites to release .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
            },
            {
                "title": "What is TypeSpec?",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
            },
            {
                "title": "What is TypeSpec?",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "bad",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
            },
            {
                "title": "Prerequisites to release .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
            },
            {
                "title": "Using the SDK generated by the SDK generation pipeline",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-draft-pullrequest"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "CODEOWNERS",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/supporting-sdk-customers/codeowners"
            },
            {
                "title": "Using the SDK generated by the SDK generation pipeline",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-draft-pullrequest"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "SDK generation configuration",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-spec-gen-sdk-config"
            }
        ],
        "knowledge_match_unexpected_refs": [],
        "knowledge_match_missing_refs": [],
        "knowledge_match_result": "pass",
        "overall_score": 0.0
    },
    {
        "testcase": "Reusing Release Plans from Preview to GA",
        "expected": {
            "answer": "You cannot simply reuse your public preview release plan for your GA (General Availability) SDK release. Each major milestone (public preview, GA, etc.) requires its own release plan in the Azure SDK Release Planner. The GA release plan will have additional requirements, such as more comprehensive testing, additional samples, and potentially a final architecture review. You should create a new release plan specifically for your GA SDK release to ensure all required steps and validations are tracked and completed. The release planner helps you track your progress and ensures you meet all the prerequisites for a GA release.\nHowever, you can use your public preview release plan as a reference or template to speed up the creation of your GA release plan, but it is important to go through the official process and create a dedicated GA plan.\nIf you have already completed some steps during public preview (such as generating SDKs or completing reviews), those may not need to be repeated, but you must still document and track them in the GA release plan.",
            "references": [
                {
                    "title": "Run release SDK pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-pipeline"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                }
            ],
            "knowledges": [
                {
                    "title": "Run release SDK pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-pipeline"
                },
                {
                    "title": "Publish SDK reference docs",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Publish SDK reference docs",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                }
            ]
        },
        "actual": {
            "answer": "You cannot directly reuse the release plan created for your public preview SDK release for your General Availability (GA) release. Each release phase (preview and GA) requires its own release plan to ensure that all requirements, validations, and approvals specific to that phase are properly tracked and completed. The GA release plan will need to reflect updated timelines, readiness for stable release, and any changes or feedback addressed from the preview phase. You should create a new release plan for your GA release, referencing the previous plan as needed for continuity, but ensuring all GA-specific requirements are met.",
            "references": [
                {
                    "title": "Run release SDK pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-pipeline"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                }
            ],
            "knowledges": [
                {
                    "title": "Run release SDK pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-pipeline"
                },
                {
                    "title": "Publish SDK reference docs",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Run release SDK pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-pipeline"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Publish SDK reference docs",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
                },
                {
                    "title": "Using the SDK generated by the SDK generation pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-draft-pullrequest"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                }
            ]
        },
        "similarity": 4.0,
        "gpt_similarity": 4.0,
        "similarity_result": "pass",
        "similarity_threshold": 3,
        "similarity_prompt_tokens": 1166,
        "similarity_completion_tokens": 1,
        "similarity_total_tokens": 1167,
        "similarity_finish_reason": "length",
        "similarity_model": "gpt-4.1-2025-04-14",
        "similarity_sample_input": "[{\"role\": \"user\", \"content\": \"{\\\"query\\\": \\\"title: Reusing Release Plans from Preview to GA\\\\n\\\\nquestion: I have created a release plan for my service for public preview. Can I reuse this release plan for my GA SDK release?\\\", \\\"response\\\": \\\"You cannot directly reuse the release plan created for your public preview SDK release for your General Availability (GA) release. Each release phase (preview and GA) requires its own release plan to ensure that all requirements, validations, and approvals specific to that phase are properly tracked and completed. The GA release plan will need to reflect updated timelines, readiness for stable release, and any changes or feedback addressed from the preview phase. You should create a new release plan for your GA release, referencing the previous plan as needed for continuity, but ensuring all GA-specific requirements are met.\\\", \\\"ground_truth\\\": \\\"You cannot simply reuse your public preview release plan for your GA (General Availability) SDK release. Each major milestone (public preview, GA, etc.) requires its own release plan in the Azure SDK Release Planner. The GA release plan will have additional requirements, such as more comprehensive testing, additional samples, and potentially a final architecture review. You should create a new release plan specifically for your GA SDK release to ensure all required steps and validations are tracked and completed. The release planner helps you track your progress and ensures you meet all the prerequisites for a GA release.\\\\nHowever, you can use your public preview release plan as a reference or template to speed up the creation of your GA release plan, but it is important to go through the official process and create a dedicated GA plan.\\\\nIf you have already completed some steps during public preview (such as generating SDKs or completing reviews), those may not need to be repeated, but you must still document and track them in the GA release plan.\\\"}\"}]",
        "similarity_sample_output": "[{\"role\": \"assistant\", \"content\": \"4\"}]",
        "response_completeness": 4.0,
        "response_completeness_result": "pass",
        "response_completeness_threshold": 3,
        "response_completeness_reason": "The response is mostly complete, capturing the main idea and process, but misses some specific requirements and details about documentation and the release planner's role.",
        "response_completeness_prompt_tokens": 1652,
        "response_completeness_completion_tokens": 331,
        "response_completeness_total_tokens": 1983,
        "response_completeness_finish_reason": "stop",
        "response_completeness_model": "gpt-4.1-2025-04-14",
        "response_completeness_sample_input": "[{\"role\": \"user\", \"content\": \"{\\\"response\\\": \\\"You cannot directly reuse the release plan created for your public preview SDK release for your General Availability (GA) release. Each release phase (preview and GA) requires its own release plan to ensure that all requirements, validations, and approvals specific to that phase are properly tracked and completed. The GA release plan will need to reflect updated timelines, readiness for stable release, and any changes or feedback addressed from the preview phase. You should create a new release plan for your GA release, referencing the previous plan as needed for continuity, but ensuring all GA-specific requirements are met.\\\", \\\"ground_truth\\\": \\\"You cannot simply reuse your public preview release plan for your GA (General Availability) SDK release. Each major milestone (public preview, GA, etc.) requires its own release plan in the Azure SDK Release Planner. The GA release plan will have additional requirements, such as more comprehensive testing, additional samples, and potentially a final architecture review. You should create a new release plan specifically for your GA SDK release to ensure all required steps and validations are tracked and completed. The release planner helps you track your progress and ensures you meet all the prerequisites for a GA release.\\\\nHowever, you can use your public preview release plan as a reference or template to speed up the creation of your GA release plan, but it is important to go through the official process and create a dedicated GA plan.\\\\nIf you have already completed some steps during public preview (such as generating SDKs or completing reviews), those may not need to be repeated, but you must still document and track them in the GA release plan.\\\"}\"}]",
        "response_completeness_sample_output": "[{\"role\": \"assistant\", \"content\": \"<S0>Let's think step by step:  \\n1. The ground truth states you cannot simply reuse the public preview release plan for GA; each milestone needs its own plan.  \\n2. It specifies that the GA release plan has additional requirements (comprehensive testing, samples, architecture review).  \\n3. It says you should create a new plan for GA, tracking all required steps and validations.  \\n4. The release planner helps track progress and prerequisites.  \\n5. You can use the preview plan as a reference/template, but must go through the official process for GA.  \\n6. If some steps were completed in preview, they may not need repeating, but must be documented/tracked in the GA plan.\\n\\nThe response covers:  \\n- Not reusing the preview plan directly for GA; each phase needs its own plan.  \\n- The GA plan should reflect updated timelines, readiness, and feedback from preview.  \\n- You should create a new plan for GA, referencing the previous plan for continuity, ensuring GA-specific requirements are met.\\n\\nMissing or less explicit:  \\n- Specific mention of additional requirements (comprehensive testing, samples, architecture review).  \\n- The role of the release planner in tracking progress and prerequisites.  \\n- Explicit mention that completed preview steps may not need repeating but must be documented/tracked in GA.\\n\\nThe response covers most major points but omits some specific requirements and details about the process and documentation.</S0>\\n<S1>The response is mostly complete, capturing the main idea and process, but misses some specific requirements and details about documentation and the release planner's role.</S1>\\n<S2>4</S2>\"}]",
        "reference_match": 1.0,
        "reference_match_exact_matches": [
            {
                "title": "Run release SDK pipeline",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-pipeline"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            }
        ],
        "reference_match_unexpected_refs": [],
        "reference_match_missing_refs": [],
        "reference_match_result": "pass",
        "knowledge_match": 1.0,
        "knowledge_match_exact_matches": [
            {
                "title": "Run release SDK pipeline",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-pipeline"
            },
            {
                "title": "Publish SDK reference docs",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "Publish SDK reference docs",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "Prerequisites to release .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            }
        ],
        "knowledge_match_unexpected_refs": [
            {
                "title": "Using the SDK generated by the SDK generation pipeline",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-draft-pullrequest"
            }
        ],
        "knowledge_match_missing_refs": [],
        "knowledge_match_result": "pass",
        "overall_score": 0.0
    },
    {
        "testcase": "Target Branch Selection for Onboarding New Resource Types",
        "expected": {
            "answer": "When onboarding new resource types (especially for ARM/Control Plane APIs), the right target branch depends on the stage of your API and whether your work should be public or private:\nIf your resource types are still under development or in private preview (not ready for public visibility), you should target the RPSaaSMaster branch in the private repo: azure-rest-api-specs-pr.\nOnce your API is ready for public preview or GA, you should target the main branch in the public repo: azure-rest-api-specs.\nYou mentioned getting a branch protection error. This is likely because the main branch in the private repo is read-only and mirrored from the public repo. You cannot merge directly into main in the private repo. For private work, use RPSaaSMaster. For public release, use main in the public repo.\nSummary:\nUse azure-rest-api-specs-pr/RPSaaSMaster for private onboarding and early-stage work.\nUse azure-rest-api-specs/main for public onboarding and final publishing.\nIf you need to update your PR, change the target branch to RPSaaSMaster in the private repo for onboarding new resource types. If your resource is ready for public consumption, move it to a PR against the public repo's main branch.\nLet me know if you need help updating your PR or have questions about the process!",
            "references": [
                {
                    "title": "Create a new branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
                },
                {
                    "title": "Create a new branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
                }
            ],
            "knowledges": [
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "Publish SDK reference docs",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
                },
                {
                    "title": "Create a new branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
                },
                {
                    "title": "Work against the release branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-2-update"
                },
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "Generate .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Create a new branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
                },
                {
                    "title": "Troubleshooting REST API documentation",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-docs-troubleshooting"
                },
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "bad",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "bad",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Publish SDK reference docs",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
                },
                {
                    "title": "Generate .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
                },
                {
                    "title": "Work against the release branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-2-update"
                },
                {
                    "title": "Generate .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
                },
                {
                    "title": "Create a new branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
                }
            ]
        },
        "actual": {
            "answer": "For onboarding new resource types for your Azure service, you should select the target branch based on the repository and the stage of your onboarding process:\n\n- If your API specifications are not yet public or require confidential review, you should use the private repository (azure-rest-api-specs-pr) and target either the RPSaaSMaster or RPSaaSDev branch as your base branch. This is the standard approach for initial onboarding and internal review.\n- If your API specifications are ready for public release, you should use the public repository (azure-rest-api-specs) and target the main branch.\n\nBranch protection errors typically occur if you attempt to merge into a protected branch (such as RPSaaSMaster or main) without meeting all required conditions (e.g., passing CI checks, required approvals). To resolve this:\n1. Ensure you are targeting the correct base branch for your onboarding phase (private for internal, public for release).\n2. Review the branch protection rules for the target branch. You may need to address required CI validations, reviewer approvals, or other repository policies before merging.\n3. If you are working in the private repo, RPSaaSMaster is a valid base branch for onboarding new resource types. Make sure your PR meets all protection requirements before requesting a merge.\n\nIn summary: Use RPSaaSMaster in azure-rest-api-specs-pr for private onboarding, and main in azure-rest-api-specs for public release. Address any branch protection errors by ensuring all required checks and approvals are completed.",
            "references": [
                {
                    "title": "Create a new branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
                },
                {
                    "title": "Create a new branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
                }
            ],
            "knowledges": [
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "Publish SDK reference docs",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
                },
                {
                    "title": "Create a new branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
                },
                {
                    "title": "Work against the release branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-2-update"
                },
                {
                    "title": "Convert OpenAPI specs to TypeSpec",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
                },
                {
                    "title": "Generate .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
                },
                {
                    "title": "Request an SDK Architecture Review",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
                },
                {
                    "title": "Create a new branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
                },
                {
                    "title": "Troubleshooting REST API documentation",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-docs-troubleshooting"
                },
                {
                    "title": "Suppress validation failures on a PR",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "bad",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Prerequisites to release .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
                },
                {
                    "title": "bad",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
                },
                {
                    "title": "Publish SDK reference docs",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
                },
                {
                    "title": "Generate .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
                },
                {
                    "title": "Work against the release branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-2-update"
                },
                {
                    "title": "Generate .NET management plane SDK",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
                },
                {
                    "title": "Using the SDK generated by the SDK generation pipeline",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-draft-pullrequest"
                },
                {
                    "title": "Create a new branch",
                    "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
                }
            ]
        },
        "similarity": 4.0,
        "gpt_similarity": 4.0,
        "similarity_result": "pass",
        "similarity_threshold": 3,
        "similarity_prompt_tokens": 1499,
        "similarity_completion_tokens": 1,
        "similarity_total_tokens": 1500,
        "similarity_finish_reason": "length",
        "similarity_model": "gpt-4.1-2025-04-14",
        "similarity_sample_input": "[{\"role\": \"user\", \"content\": \"{\\\"query\\\": \\\"title: Target Branch Selection for Onboarding New Resource Types\\\\n\\\\nquestion: General I have created a PR to onboard new resource types. Is this the right target branch?\\\\nI was suggested to use azure-rest-api-specs-pr/RPSaaSMaster (private) Or azure-rest-api-specs/main (public) as the target branch?\\\\nI am getting branch protection error with the current PR.\\\\nLink to PR : https://github.com/Azure/azure-rest-api-specs-pr/pull/23390\\\\nThank you for the help!\\\", \\\"response\\\": \\\"For onboarding new resource types for your Azure service, you should select the target branch based on the repository and the stage of your onboarding process:\\\\n\\\\n- If your API specifications are not yet public or require confidential review, you should use the private repository (azure-rest-api-specs-pr) and target either the RPSaaSMaster or RPSaaSDev branch as your base branch. This is the standard approach for initial onboarding and internal review.\\\\n- If your API specifications are ready for public release, you should use the public repository (azure-rest-api-specs) and target the main branch.\\\\n\\\\nBranch protection errors typically occur if you attempt to merge into a protected branch (such as RPSaaSMaster or main) without meeting all required conditions (e.g., passing CI checks, required approvals). To resolve this:\\\\n1. Ensure you are targeting the correct base branch for your onboarding phase (private for internal, public for release).\\\\n2. Review the branch protection rules for the target branch. You may need to address required CI validations, reviewer approvals, or other repository policies before merging.\\\\n3. If you are working in the private repo, RPSaaSMaster is a valid base branch for onboarding new resource types. Make sure your PR meets all protection requirements before requesting a merge.\\\\n\\\\nIn summary: Use RPSaaSMaster in azure-rest-api-specs-pr for private onboarding, and main in azure-rest-api-specs for public release. Address any branch protection errors by ensuring all required checks and approvals are completed.\\\", \\\"ground_truth\\\": \\\"When onboarding new resource types (especially for ARM/Control Plane APIs), the right target branch depends on the stage of your API and whether your work should be public or private:\\\\nIf your resource types are still under development or in private preview (not ready for public visibility), you should target the RPSaaSMaster branch in the private repo: azure-rest-api-specs-pr.\\\\nOnce your API is ready for public preview or GA, you should target the main branch in the public repo: azure-rest-api-specs.\\\\nYou mentioned getting a branch protection error. This is likely because the main branch in the private repo is read-only and mirrored from the public repo. You cannot merge directly into main in the private repo. For private work, use RPSaaSMaster. For public release, use main in the public repo.\\\\nSummary:\\\\nUse azure-rest-api-specs-pr/RPSaaSMaster for private onboarding and early-stage work.\\\\nUse azure-rest-api-specs/main for public onboarding and final publishing.\\\\nIf you need to update your PR, change the target branch to RPSaaSMaster in the private repo for onboarding new resource types. If your resource is ready for public consumption, move it to a PR against the public repo's main branch.\\\\nLet me know if you need help updating your PR or have questions about the process!\\\"}\"}]",
        "similarity_sample_output": "[{\"role\": \"assistant\", \"content\": \"4\"}]",
        "response_completeness": 4.0,
        "response_completeness_result": "pass",
        "response_completeness_threshold": 3,
        "response_completeness_reason": "The response contains most of the necessary and relevant information, but omits some minor details about the read-only nature of the main branch in the private repo and the process for updating PRs as the API matures.",
        "response_completeness_prompt_tokens": 1916,
        "response_completeness_completion_tokens": 309,
        "response_completeness_total_tokens": 2225,
        "response_completeness_finish_reason": "stop",
        "response_completeness_model": "gpt-4.1-2025-04-14",
        "response_completeness_sample_input": "[{\"role\": \"user\", \"content\": \"{\\\"response\\\": \\\"For onboarding new resource types for your Azure service, you should select the target branch based on the repository and the stage of your onboarding process:\\\\n\\\\n- If your API specifications are not yet public or require confidential review, you should use the private repository (azure-rest-api-specs-pr) and target either the RPSaaSMaster or RPSaaSDev branch as your base branch. This is the standard approach for initial onboarding and internal review.\\\\n- If your API specifications are ready for public release, you should use the public repository (azure-rest-api-specs) and target the main branch.\\\\n\\\\nBranch protection errors typically occur if you attempt to merge into a protected branch (such as RPSaaSMaster or main) without meeting all required conditions (e.g., passing CI checks, required approvals). To resolve this:\\\\n1. Ensure you are targeting the correct base branch for your onboarding phase (private for internal, public for release).\\\\n2. Review the branch protection rules for the target branch. You may need to address required CI validations, reviewer approvals, or other repository policies before merging.\\\\n3. If you are working in the private repo, RPSaaSMaster is a valid base branch for onboarding new resource types. Make sure your PR meets all protection requirements before requesting a merge.\\\\n\\\\nIn summary: Use RPSaaSMaster in azure-rest-api-specs-pr for private onboarding, and main in azure-rest-api-specs for public release. Address any branch protection errors by ensuring all required checks and approvals are completed.\\\", \\\"ground_truth\\\": \\\"When onboarding new resource types (especially for ARM/Control Plane APIs), the right target branch depends on the stage of your API and whether your work should be public or private:\\\\nIf your resource types are still under development or in private preview (not ready for public visibility), you should target the RPSaaSMaster branch in the private repo: azure-rest-api-specs-pr.\\\\nOnce your API is ready for public preview or GA, you should target the main branch in the public repo: azure-rest-api-specs.\\\\nYou mentioned getting a branch protection error. This is likely because the main branch in the private repo is read-only and mirrored from the public repo. You cannot merge directly into main in the private repo. For private work, use RPSaaSMaster. For public release, use main in the public repo.\\\\nSummary:\\\\nUse azure-rest-api-specs-pr/RPSaaSMaster for private onboarding and early-stage work.\\\\nUse azure-rest-api-specs/main for public onboarding and final publishing.\\\\nIf you need to update your PR, change the target branch to RPSaaSMaster in the private repo for onboarding new resource types. If your resource is ready for public consumption, move it to a PR against the public repo's main branch.\\\\nLet me know if you need help updating your PR or have questions about the process!\\\"}\"}]",
        "response_completeness_sample_output": "[{\"role\": \"assistant\", \"content\": \"<S0>Let's think step by step:  \\n1. The ground truth explains the correct target branches for onboarding new resource types, distinguishing between private (RPSaaSMaster in azure-rest-api-specs-pr) and public (main in azure-rest-api-specs) stages.  \\n2. It clarifies that the main branch in the private repo is read-only and mirrored, so merging there is not possible.  \\n3. It provides guidance on updating PRs and moving between branches as the API matures.  \\n4. The response covers the use of RPSaaSMaster for private onboarding and main for public release, and addresses branch protection errors, including CI checks and approvals.  \\n5. The response does not explicitly mention that the main branch in the private repo is read-only and mirrored, nor does it clarify that merging into main in the private repo is not possible.  \\n6. The response does not mention updating PRs or the process of moving from private to public repo as the API matures.  \\n7. However, the response does capture most of the key guidance about which branches to use and the general process for onboarding and resolving branch protection errors.  \\n8. The missing details are minor but relevant for full completeness.</S0>\\n<S1>The response contains most of the necessary and relevant information, but omits some minor details about the read-only nature of the main branch in the private repo and the process for updating PRs as the API matures.</S1>\\n<S2>4</S2>\"}]",
        "reference_match": 1.0,
        "reference_match_exact_matches": [
            {
                "title": "Create a new branch",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
            },
            {
                "title": "Create a new branch",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
            }
        ],
        "reference_match_unexpected_refs": [],
        "reference_match_missing_refs": [],
        "reference_match_result": "pass",
        "knowledge_match": 1.0,
        "knowledge_match_exact_matches": [
            {
                "title": "Convert OpenAPI specs to TypeSpec",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
            },
            {
                "title": "Publish SDK reference docs",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
            },
            {
                "title": "Create a new branch",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
            },
            {
                "title": "Work against the release branch",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-2-update"
            },
            {
                "title": "Convert OpenAPI specs to TypeSpec",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs/api-typespec-conversion"
            },
            {
                "title": "Generate .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
            },
            {
                "title": "Request an SDK Architecture Review",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-review"
            },
            {
                "title": "Create a new branch",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
            },
            {
                "title": "Troubleshooting REST API documentation",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-docs-troubleshooting"
            },
            {
                "title": "Suppress validation failures on a PR",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
            },
            {
                "title": "",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
            },
            {
                "title": "bad",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
            },
            {
                "title": "Prerequisites to release .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-release/sdk-release-mgmt-dotnet"
            },
            {
                "title": "bad",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/specs-pr-guides/pr-suppressions"
            },
            {
                "title": "Publish SDK reference docs",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-docs"
            },
            {
                "title": "Generate .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
            },
            {
                "title": "Work against the release branch",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-2-update"
            },
            {
                "title": "Generate .NET management plane SDK",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-generate-mgmt-dotnet"
            },
            {
                "title": "Create a new branch",
                "link": "https://eng.ms/docs/products/azure-developer-experience/design/api-specs-pr/api-tutorial/api-tutorial-1-branch"
            }
        ],
        "knowledge_match_unexpected_refs": [
            {
                "title": "Using the SDK generated by the SDK generation pipeline",
                "link": "https://eng.ms/docs/products/azure-developer-experience/develop/sdk-draft-pullrequest"
            }
        ],
        "knowledge_match_missing_refs": [],
        "knowledge_match_result": "pass",
        "overall_score": 0.0
    },
    {
        "average_score": 0.0,
        "total_evals": 4,
        "similarity_pass_rate": 4,
        "groundedness_pass_rate": 0,
        "response_completeness_pass_rate": 3,
        "reference_match_pass_rate": 3,
        "knowledge_match_pass_rate": 4,
        "similarity_fail_rate": 0,
        "groundedness_fail_rate": 0,
        "response_completeness_fail_rate": 1,
        "reference_match_fail_rate": 1,
        "knowledge_match_fail_rate": 0
    }
]