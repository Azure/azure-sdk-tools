{"testcase": "Does Typespec has any decorator to set customzed `final-state-via` for LRO API?", "query": "title: Does Typespec has any decorator to set customzed `final-state-via` for LRO API?\n\nquestion: Does Typespec has any decorator to set customzed `final-state-via` for LRO API?", "ground_truth": "Yes, TypeSpec provides a decorator for setting a customized `final-state-via` value for long-running operation (LRO) APIs. You should use the `@Azure.Core.useFinalStateVia decorator` on your operation to explicitly specify the desired final state resolution strategy. The decorator supports values such as \"original-uri\", \"operation-location\", \"location\", and \"azure-async-operation\". For example:\n```\n@Azure.Core.useFinalStateVia(\"original-uri\")\nop createResource is ArmResourceCreateOrReplaceAsync<ResourceModel>;\n```\nThis will ensure the generated OpenAPI includes the correct `x-ms-long-running-operation-options` with your chosen `final-state-via setting`. This approach fully aligns with Azure REST API and ARM guidelines for LRO patterns.", "expected_knowledges": [{"title": "Only \"final-state-via\": \"location\" need to been changed to \"final-state-via\": \"azure-async-operation\"", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}, {"title": "LRO response and final result", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}, {"title": "Setting lroheader in operation does not work", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}, {"title": "TypeSpec ARM Decorator Mapping to Swagger Documentation", "link": ""}, {"title": "TypeSpec ARM Model Mapping to Swagger Documentation", "link": ""}, {"title": "Decorators", "link": "https://typespec.io/docs/language-basics/decorators"}, {"title": "Documentation", "link": "https://typespec.io/docs/language-basics/documentation"}, {"title": "Deep Dive: Long-running (Asynchronous) Operations", "link": "https://azure.github.io/typespec-azure/docs/howtos/azure-core/long-running-operations"}, {"title": "Deep Dive: Long-running (Asynchronous) Operations", "link": "https://azure.github.io/typespec-azure/docs/howtos/azure-core/long-running-operations"}, {"title": "Versioning", "link": "https://typespec.io/docs/getting-started/getting-started-rest/06-versioning"}, {"title": "Versioning", "link": "https://typespec.io/docs/getting-started/getting-started-rest/06-versioning"}, {"title": "Deep Dive: Long-running (Asynchronous) Operations", "link": "https://azure.github.io/typespec-azure/docs/howtos/azure-core/long-running-operations"}, {"title": "Versioning the LRO headers", "link": ""}, {"title": "Emitter usage", "link": "https://azure.github.io/typespec-azure/docs/emitters/typespec-autorest/reference/emitter"}, {"title": "Examples", "link": "https://typespec.io/docs/standard-library/examples"}, {"title": "Versioning", "link": "https://azure.github.io/typespec-azure/docs/howtos/arm/versioning"}, {"title": "Release new api version process with TypeSpec", "link": ""}, {"title": "Does TypeSpec have the option to achieve mutually exclusive?", "link": ""}, {"title": "TypeSpec", "link": "https://github.com/Azure/azure-rest-api-specs/wiki/Swagger-LintDiff"}, {"title": "LRO response and final result", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}, {"title": "Deep Dive: Long-running (Asynchronous) Operations", "link": "https://azure.github.io/typespec-azure/docs/howtos/azure-core/long-running-operations"}, {"title": "Decorators", "link": "https://azure.github.io/typespec-azure/docs/libraries/azure-core/reference/decorators"}, {"title": "Deep Dive: Long-running (Asynchronous) Operations", "link": "https://azure.github.io/typespec-azure/docs/howtos/azure-core/long-running-operations"}, {"title": "Setting lroheader in operation does not work", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}, {"title": "Resolving OpenAPI Breaking Change Violations", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}, {"title": "remove `TypeSpec.Http.OkResponse` from Swagger", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}, {"title": "TypeSpec Azure.ResourceManager.Extension Operations Mapping to Swagger Documentation", "link": ""}], "expected_references": [{"title": "Decorators", "link": "https://azure.github.io/typespec-azure/docs/libraries/azure-core/reference/decorators"}, {"title": "Only \"final-state-via\": \"location\" need to been changed to \"final-state-via\": \"azure-async-operation\"", "link": "https://azure.github.io/typespec-azure/docs/migrate-swagger/faq/breakingchange"}]}
