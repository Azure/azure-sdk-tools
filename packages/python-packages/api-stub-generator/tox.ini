[tox]
# note that this envlist is the default set of environments that will run if a target environment is not selected.
envlist = py310

[testenv:pytest]
deps =
    pytest
    -rdev_requirements.txt
ignore_args=--ignore=.tox --ignore=build --ignore=.eggs
default_pytest_params = --junitxml={toxinidir}/test-junit-{envname}.xml --verbose --durations=10
commands =
    {envbindir}/python -m pip install \
        --index-url https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-for-python/pypi/simple/ \
        pylint-guidelines-checker
    pytest {toxinidir}/tests

[testenv:stubgen]
deps =
    pylint 
commands =
    {envbindir}/python -m pip install \
        --index-url https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-for-python/pypi/simple/ \
        pylint-guidelines-checker
    apistubgen --pkg-path {toxinidir}/../apistubgentest --out-path {envtmpdir} --temp-path {envtmpdir} --verbose